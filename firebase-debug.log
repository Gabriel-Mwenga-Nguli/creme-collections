[debug] [2025-07-03T13:34:21.807Z] ----------------------------------------------------------------------
[debug] [2025-07-03T13:34:21.811Z] Command:       /nix/store/rbdrkcs5kkwpalxcd7c6bnm33lk2955n-nodejs-20.19.0/bin/node /home/user/.global_modules/bin/firebase deploy --only functions
[debug] [2025-07-03T13:34:21.811Z] CLI Version:   14.9.0
[debug] [2025-07-03T13:34:21.812Z] Platform:      linux
[debug] [2025-07-03T13:34:21.812Z] Node Version:  v20.19.0
[debug] [2025-07-03T13:34:21.812Z] Time:          Thu Jul 03 2025 13:34:21 GMT+0000 (Coordinated Universal Time)
[debug] [2025-07-03T13:34:21.813Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-07-03T13:34:22.335Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-07-03T13:34:22.336Z] > authorizing via signed-in user (creme.collectionlt@gmail.com)
[debug] [2025-07-03T13:34:22.337Z] [iam] checking project creme-collections-8a8bx for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-07-03T13:34:22.340Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:22.340Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:22.343Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx:testIamPermissions [none]
[debug] [2025-07-03T13:34:22.343Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx:testIamPermissions x-goog-quota-user=projects/creme-collections-8a8bx
[debug] [2025-07-03T13:34:22.344Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-07-03T13:34:23.098Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx:testIamPermissions 200
[debug] [2025-07-03T13:34:23.099Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-07-03T13:34:23.104Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:23.105Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:23.105Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/creme-collections-8a8bx/serviceAccounts/creme-collections-8a8bx@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-07-03T13:34:23.105Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/creme-collections-8a8bx/serviceAccounts/creme-collections-8a8bx@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-07-03T13:34:23.769Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/creme-collections-8a8bx/serviceAccounts/creme-collections-8a8bx@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-07-03T13:34:23.769Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/creme-collections-8a8bx/serviceAccounts/creme-collections-8a8bx@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'creme-collections-8a8bx'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] âœ”  functions: Finished running predeploy script. 
[debug] [2025-07-03T13:34:25.026Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:25.026Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:25.026Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx [none]
[debug] [2025-07-03T13:34:25.222Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx 200
[debug] [2025-07-03T13:34:25.223Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx {"projectNumber":"789348427533","projectId":"creme-collections-8a8bx","lifecycleState":"ACTIVE","name":"Creme Collections","labels":{"monospace-workspace-id":"studio-4117069302","firebase":"enabled","firebase-core":"disabled","generative-language":"enabled"},"createTime":"2025-06-24T08:04:00.623545Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-07-03T13:34:25.231Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:25.232Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:25.232Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/creme-collections-8a8bx/adminSdkConfig [none]
[debug] [2025-07-03T13:34:25.432Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/creme-collections-8a8bx/adminSdkConfig 200
[debug] [2025-07-03T13:34:25.436Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/creme-collections-8a8bx/adminSdkConfig {"projectId":"creme-collections-8a8bx","storageBucket":"creme-collections-8a8bx.firebasestorage.app"}
[debug] [2025-07-03T13:34:25.437Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:25.437Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:25.437Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs [none]
[debug] [2025-07-03T13:34:25.635Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs 200
[debug] [2025-07-03T13:34:25.635Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs {"configs":[{"name":"projects/creme-collections-8a8bx/configs/gmail"},{"name":"projects/creme-collections-8a8bx/configs/loyverse"}]}
[debug] [2025-07-03T13:34:25.639Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:25.639Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:25.639Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:25.639Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:25.641Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/gmail/variables [none]
[debug] [2025-07-03T13:34:25.643Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/loyverse/variables [none]
[debug] [2025-07-03T13:34:25.815Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/gmail/variables 200
[debug] [2025-07-03T13:34:25.815Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/gmail/variables {"variables":[{"name":"projects/creme-collections-8a8bx/configs/gmail/variables/app_password","updateTime":"2025-07-02T09:50:10.030670669Z"},{"name":"projects/creme-collections-8a8bx/configs/gmail/variables/email","updateTime":"2025-07-02T09:48:49.682156758Z"}]}
[debug] [2025-07-03T13:34:25.816Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:25.816Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:25.820Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:25.820Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:25.820Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/gmail/variables/app_password [none]
[debug] [2025-07-03T13:34:25.822Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/gmail/variables/email [none]
[debug] [2025-07-03T13:34:25.853Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/loyverse/variables 200
[debug] [2025-07-03T13:34:25.853Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/loyverse/variables {"variables":[{"name":"projects/creme-collections-8a8bx/configs/loyverse/variables/apitoken","updateTime":"2025-07-03T11:53:59.570952022Z"}]}
[debug] [2025-07-03T13:34:25.853Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:25.853Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:25.854Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/loyverse/variables/apitoken [none]
[debug] [2025-07-03T13:34:25.998Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/gmail/variables/app_password 200
[debug] [2025-07-03T13:34:26.002Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/gmail/variables/app_password {"name":"projects/creme-collections-8a8bx/configs/gmail/variables/app_password","updateTime":"2025-07-02T09:50:10.030670669Z","text":"oeeh gpfb rmxe ptfu"}
[debug] [2025-07-03T13:34:26.025Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/loyverse/variables/apitoken 200
[debug] [2025-07-03T13:34:26.026Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/loyverse/variables/apitoken {"name":"projects/creme-collections-8a8bx/configs/loyverse/variables/apitoken","updateTime":"2025-07-03T11:53:59.570952022Z","text":"91381885677646a6b7a70a0f6342b22f"}
[debug] [2025-07-03T13:34:26.034Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/gmail/variables/email 200
[debug] [2025-07-03T13:34:26.035Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/gmail/variables/email {"name":"projects/creme-collections-8a8bx/configs/gmail/variables/email","updateTime":"2025-07-02T09:48:49.682156758Z","text":"admin@cremecollections.shop"}
[debug] [2025-07-03T13:34:26.045Z] Validating nodejs source
[debug] [2025-07-03T13:34:26.845Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "lib/index.js",
  "dependencies": {
    "axios": "^1.10.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^6.10.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5"
  },
  "private": true
}
[debug] [2025-07-03T13:34:26.845Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-07-03T13:34:26.847Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-03T13:34:26.864Z] Found firebase-functions binary at '/home/user/studio/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8760

[debug] [2025-07-03T13:34:27.608Z] Got response from /__/functions.yaml {"endpoints":{"sendBrandedEmail":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"sendBrandedEmail"},"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"addMessage":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"addMessage"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-07-03T13:34:31.726Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-07-03T13:34:31.726Z] > authorizing via signed-in user (creme.collectionlt@gmail.com)
[debug] [2025-07-03T13:34:31.727Z] [iam] checking project creme-collections-8a8bx for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-07-03T13:34:31.727Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:31.727Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:31.734Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx:testIamPermissions [none]
[debug] [2025-07-03T13:34:31.734Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx:testIamPermissions x-goog-quota-user=projects/creme-collections-8a8bx
[debug] [2025-07-03T13:34:31.734Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-07-03T13:34:32.413Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx:testIamPermissions 200
[debug] [2025-07-03T13:34:32.414Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-07-03T13:34:32.415Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:32.415Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:32.419Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/creme-collections-8a8bx/instances pageSize=100&pageToken=
[debug] [2025-07-03T13:34:33.214Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/creme-collections-8a8bx/instances 200
[debug] [2025-07-03T13:34:33.214Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/creme-collections-8a8bx/instances {"instances":[{"name":"projects/creme-collections-8a8bx/instances/firestore-genai-chatbot","createTime":"2025-06-27T15:22:35.168634Z","updateTime":"2025-06-30T06:07:24.372688Z","state":"ACTIVE","config":{"name":"projects/creme-collections-8a8bx/instances/firestore-genai-chatbot/configurations/42878794-0e36-4d0b-b65e-a2fc7de5f946","createTime":"2025-06-27T15:22:35.168634Z","source":{"name":"projects/pub-ext-gcloud/sources/ee0a2118-a69d-43ff-852b-a44ae560b353","packageUri":"https://storage.googleapis.com/firebase-extensions-packages-prod/googlecloud-firestore-genai-chatbot-0.0.14-eddbadcd-10bc-4e95-8e72-95758dc2ed12.zip","hash":"ec2d3bda3e1fb1c543e8cd2ef5238ee44f2135151c5cca576d04958636357314","extensionRoot":"/","spec":{"specVersion":"v1beta","name":"firestore-genai-chatbot","version":"0.0.14","description":"Deploys customizable chatbots using Gemini models and Firestore.","apis":[{"apiName":"aiplatform.googleapis.com","reason":"For access to the Vertex AI Gemini API if this provider is chosen."}],"roles":[{"role":"datastore.user","reason":"Allows this extension to access Cloud Firestore to read and process added messages."},{"role":"aiplatform.user","reason":"Allows this extension to access the Vertex AI API if this provider is chosen."},{"role":"monitoring.metricWriter","reason":"Allows this extension to write metrics to Cloud Monitoring when Genkit monitoring is enabled."},{"role":"cloudtrace.agent","reason":"Allows this extension to write trace data to Cloud Trace when Genkit monitoring is enabled."},{"role":"logging.logWriter","reason":"Allows this extension to write logs to Cloud Logging when Genkit monitoring is enabled."}],"resources":[{"name":"generateMessage","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_NAME}/{messageId}\nlocation: ${LOCATION}\nruntime: nodejs20\n","description":"Listens to Firestore data writes to generate conversations.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Google Cloud","url":"https://cloud.google.com/"},"contributors":[{"authorName":"Invertase","email":"oss@invertase.io","url":"https://github.com/invertase"},{"authorName":"Jacob Cable","email":"jacob@invertase.io","url":"https://github.com/cabljac"},{"authorName":"Mais Alheraki","email":"mais@invertase.io","url":"https://github.com/pr-Mais"}],"license":"Apache-2.0","releaseNotesUrl":"https://github.com/GoogleCloudPlatform/firebase-extensions/tree/main/firestore-genai-chatbot/CHANGELOG.md","sourceUrl":"https://github.com/GoogleCloudPlatform/firebase-extensions/tree/main/firestore-genai-chatbot","params":[{"param":"GENERATIVE_AI_PROVIDER","label":"Gemini API Provider","type":"SELECT","description":"This extension makes use of the Gemini family of generative models. For Google AI you will require an API key, whereas Vertex AI will authenticate using application default credentials. For more information see the [docs](https://firebase.google.com/docs/admin/setup#initialize-sdk).","required":true,"options":[{"value":"google-ai","label":"Google AI"},{"value":"vertex-ai","label":"Vertex AI"}],"default":"google-ai"},{"param":"API_KEY","label":"Google AI API Key","type":"SECRET","description":"If you have selected Google AI as your provider, then this parameteris required. If you have instead selected Vertex AI, then this parameter is not required, and application default credentials will be used."},{"param":"MODEL","label":"Gemini model","type":"STRING","description":"Input the name of the Gemini model you would like to use. To view available models for each provider, see: [Vertex AI Gemini models](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/models), [Google AI Gemini models](https://ai.google.dev/models/gemini)","required":true,"default":"gemini-2.0-flash"},{"param":"COLLECTION_NAME","label":"Firestore Collection Path","type":"STRING","description":"Used to store conversation history represented as documents. This extension will listen to the specified collection(s) for new message documents.","required":true,"default":"generate","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Must be a valid Cloud Firestore Collection"},{"param":"PROMPT_FIELD","label":"Prompt Field","type":"STRING","description":"The field in the message document that contains the prompt.","required":true,"default":"prompt","example":"prompt"},{"param":"RESPONSE_FIELD","label":"Response Field","type":"STRING","description":"The field in the message document into which to put the response.","required":true,"default":"response","example":"response"},{"param":"ORDER_FIELD","label":"Order Field","type":"STRING","description":"The field by which to order when fetching conversation history. If absent when processing begins, the current timestamp will be written to this field. Sorting will be in descending order.","default":"createTime","example":"createTime"},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations). Note that Generative AI on Vertex AI is only available in the regions listed [here](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/locations-genai). A list of languages and regions supported by the Gemini API on Google AI is [here](https://ai.google.dev/available_regions).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true},{"param":"CONTEXT","label":"Context","type":"STRING","description":"Contextual preamble for the generative AI model. A string giving context for the discussion."},{"param":"TEMPERATURE","label":"Temperature","type":"STRING","description":"Controls the randomness of the output. Values can range over [0,1], inclusive. A value closer to 1 will produce responses that are more varied, while a value closer to 0 will typically result in less surprising responses from the model.","validationRegex":"^(?:0*(?:\\.\\d+)?|1(\\.0*)?)$","validationErrorMessage":"Please specify a decimal representation of a number between 0 and 1."},{"param":"TOP_P","label":"Nucleus sampling probability","type":"STRING","description":"If specified, nucleus sampling will be used as the decoding strategy. Nucleus sampling considers the smallest set of tokens whose probability sum is at least a fixed value. Enter a value between 0 and 1.","validationRegex":"^(?:0*(?:\\.\\d+)?|1(\\.0*)?)$","validationErrorMessage":"Please specify a decimal representation of a number between 0 and 1."},{"param":"TOP_K","label":"Sampling strategy parameter","type":"STRING","description":"If specified, top-k sampling will be used as the decoding strategy. Top-k sampling considers the set of topK most probable tokens.","validationRegex":"^[1-9][0-9]*","validationErrorMessage":"Please specify a positive integer."},{"param":"CANDIDATE_COUNT","label":"Candidate count","type":"STRING","description":"The default value is one. When set to an integer higher than one, additional candidate responses, up to the specified number, will be stored in Firestore under the 'candidates' field.","default":"1","validationRegex":"^[1-9][0-9]*","validationErrorMessage":"Please specify a positive integer."},{"param":"MAX_OUTPUT_TOKENS","label":"Max Output Tokens","type":"STRING","description":"If specified, this parameter is passed to the Gemini API to control the length of the response.","validationRegex":"^[1-9][0-9]*","validationErrorMessage":"Please specify a positive integer."},{"param":"CANDIDATES_FIELD","label":"Candidates field","type":"STRING","description":"The field in the message document into which to put the other candidate responses if the candidate count parameter is greater than one.","default":"candidates"},{"param":"ENABLE_DISCUSSION_OPTION_OVERRIDES","label":"Enable per document overrides.","type":"SELECT","description":"If set to \\\"Yes\\\", discussion parameters may be overwritten by fields in the discussion collection.","required":true,"options":[{"value":"yes","label":"Yes"},{"value":"no","label":"No"}],"default":"no"},{"param":"ENABLE_GENKIT_MONITORING","label":"Enable Genkit Monitoring","type":"SELECT","description":"If set to \"Yes\", enables Genkit Monitoring for collecting and viewing real-time telemetry data. This requires the Cloud Logging API, Cloud Trace API, and Cloud Monitoring API to be enabled, and appropriate IAM roles to be configured. See the documentation for more details.","required":true,"options":[{"value":"yes","label":"Yes"},{"value":"no","label":"No"}],"default":"no"},{"param":"HARM_CATEGORY_HATE_SPEECH","label":"Hate Speech Threshold","type":"SELECT","description":"Threshold for hate speech content. Specify what probability level of hate speech content is blocked by the Gemini provider.","options":[{"value":"HARM_BLOCK_THRESHOLD_UNSPECIFIED","label":"Default"},{"value":"BLOCK_LOW_AND_ABOVE","label":"Block low and above"},{"value":"BLOCK_MEDIUM_AND_ABOVE","label":"Block medium and above"},{"value":"BLOCK_ONLY_HIGH","label":"Block only high"},{"value":"BLOCK_NONE","label":"Block none"}],"default":"HARM_BLOCK_THRESHOLD_UNSPECIFIED"},{"param":"HARM_CATEGORY_DANGEROUS_CONTENT","label":"Dangerous Content Threshold","type":"SELECT","description":"Threshold for dangerous content. Specify what probability level of dangerous content is blocked by the Gemini provider.","options":[{"value":"HARM_BLOCK_THRESHOLD_UNSPECIFIED","label":"Default"},{"value":"BLOCK_LOW_AND_ABOVE","label":"Block low and above"},{"value":"BLOCK_MEDIUM_AND_ABOVE","label":"Block medium and above"},{"value":"BLOCK_ONLY_HIGH","label":"Block only high"},{"value":"BLOCK_NONE","label":"Block none"}],"default":"HARM_BLOCK_THRESHOLD_UNSPECIFIED"},{"param":"HARM_CATEGORY_HARASSMENT","label":"harassment Content Threshold","type":"SELECT","description":"Threshold for harassment content. Specify what probability level of harassment content is blocked by the Gemini provider.","options":[{"value":"HARM_BLOCK_THRESHOLD_UNSPECIFIED","label":"Default"},{"value":"BLOCK_LOW_AND_ABOVE","label":"Block low and above"},{"value":"BLOCK_MEDIUM_AND_ABOVE","label":"Block medium and above"},{"value":"BLOCK_ONLY_HIGH","label":"Block only high"},{"value":"BLOCK_NONE","label":"Block none"}],"default":"HARM_BLOCK_THRESHOLD_UNSPECIFIED"},{"param":"HARM_CATEGORY_SEXUALLY_EXPLICIT","label":"Sexual Content Threshold","type":"SELECT","description":"Threshold for sexually explicit content. Specify what probability level of sexual content is blocked by the Gemini provider.","options":[{"value":"HARM_BLOCK_THRESHOLD_UNSPECIFIED","label":"Default"},{"value":"BLOCK_LOW_AND_ABOVE","label":"Block low and above"},{"value":"BLOCK_MEDIUM_AND_ABOVE","label":"Block medium and above"},{"value":"BLOCK_ONLY_HIGH","label":"Block only high"},{"value":"BLOCK_NONE","label":"Block none"}],"default":"HARM_BLOCK_THRESHOLD_UNSPECIFIED"}],"preinstallContent":"Use this extension to easily deploy a chatbot using Gemini models, stored and managed by Cloud Firestore.\n\nOn install you will be asked to provide:\n\n- **Gemini API Provider** This extension makes use of the Gemini family of models. Currently the extension supports the Google AI Gemini API and the Vertex AI Gemini API. Learn more about the differences between the Google AI and Vertex AI Gemini APIs [here](https://cloud.google.com/vertex-ai/docs/generative-ai/migrate/migrate-google-ai).\n\nNote that Generative AI on Vertex AI is only available in the regions listed [here](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/locations-genai).\n\nA list of languages and regions supported by the Gemini API on Google AI is [here](https://ai.google.dev/available_regions).\n\n- **Gemini Model**: Input the name of the Gemini model you would like to use. To view available models for each provider, see:\n- [Vertex AI Gemini models](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/models)\n- [Google AI Gemini models](https://ai.google.dev/models/gemini)\n\n- **Firestore Collection Path**: Used to store conversation history represented as documents. This extension will listen to the specified collection(s) for new message documents.\n\nThe collection path also supports wildcards, so you can trigger the extension on multiple collections, each with their own private conversation history. This is useful if you want to create separate conversations for different users, or support multiple chat sessions.\n\nMessage documents might look like this:\n\n```\n{\n  prompt: \"What is the best museum to visit in Barcelona, Spain?\"\n}\n```\n\nWhen a message document is added, the extension will:\n\n- Obtain conversation history by sorting the documents of the collection.\n- Query the language model you selected during configuration.\n- Write the message back to the triggering document in a configurable response field.\n\nA createTime field (or a field by another name if provided during installation) will be automatically created for you on document creation, and will be used to order the conversation history. The chosen generative model will have a limited context window, so only the most recent messages will be used as history to generate the next response. Alternatively, If documents in the specified collection already contain a field representing timestamps, you can use that as the order field instead.\n\nYou can configure the chatbot to return different responses by providing context during installation. For example, if you want the chatbot to act as a travel guide, you might use this as the context:\n\n```\nI want you to act as a travel guide. I will ask you questions about various travel destinations, and you will describe those destinations and give me suggestions on places to visit.\n```\n\nYou can also configure the model to return different results by tweaking model parameters (temperature, candidate count, etc.), which are exposed as configuration during install as well.\n\n## Additional Setup\n\nEnsure you have a [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) set up in your Firebase project, set up in your Firebase project, and have obtained an API key for the Gemini API.\n\n### Regenerating a response\n\nChanging the state field of a completed document's status from `COMPLETED` to anything else will retrigger the extension for that document.\n\n### Genkit Monitoring\n\nThis extension supports Genkit monitoring, which provides detailed insights into the performance and behavior of your chatbot. When enabled, Genkit monitoring will:\n\n- Track model response times and latency\n- Monitor token usage and costs\n- Provide visibility into model behavior and safety settings\n- Help identify potential issues or optimization opportunities\n\nTo enable Genkit monitoring, set the `Enable Genkit Monitoring` configuration parameter to `yes` during installation. Note that enabling this feature may incur additional costs depending on your usage.\n\n## Billing\n\nTo install an extension, your project must be on the Blaze (pay as you go) plan. You will be charged a small amount (typically around $0.01/month) for the Firebase resources required by this extension (even if it is not used).\nThis extension uses other Firebase and Google Cloud Platform services, which have associated charges if you exceed the service's no-cost tier:\n\n- Cloud Firestore\n- Cloud Functions (See [FAQs](https://firebase.google.com/support/faq#extensions-pricing))\n- Associated costs for using Vertex AI ([see their pricing](https://cloud.google.com/vertex-ai/pricing#generative_ai_models)) if you use this provider.\n- Associated costs for using Google AI ([see their pricing](https://ai.google.dev/pricing)) if you use this provider.\n\n[Learn more about Firebase billing.](https://firebase.google.com/pricing)\n","postinstallContent":"## Testing the extension\n\nYou can test out the extension right away by following these steps:\n\n1. Go to the [Cloud Firestore dashboard](https://console.firebase.google.com/project/_/firestore) in the Firebase console.\n2. If it doesn't already exist, create the collection you specified during installation: **${param:COLLECTION_NAME}**.\n3. Add a document with a **${param:PROMPT_FIELD}** field containing your first message:\n\n```\n${param:PROMPT_FIELD}: \"How are you today?\"\n```\n\n4. In a few seconds, you'll see a **${param:ORDER_FIELD}** field and then a status field should appear in the document. The status field will update as the extension processes the message.\n5. When processing is finished, the **${param:RESPONSE_FIELD}** field of the document should be populated with the response from the selected generative AI model.\n\n```javascript\nconst ref = await admin\n    .firestore()\n    .collection(\"${param:COLLECTION_NAME}\")\n    .add({\n        ${param:PROMPT_FIELD}: \"How are you today?\",\n    })\n\nref.onSnapshot(snap => {\n    if (snap.get('${param:RESPONSE_FIELD}')) console.log(\n        'RESPONSE:' +\n        snap.get('${param:RESPONSE_FIELD}')\n    )\n})\n```\n\n## About the providers\n\nThe extension gives you a choice of what provider to use for the available models:\n\n- Google AI: For more details on this Gemini API, see the [Gemini homepage](https://ai.google.dev/docs).\n\n- Vertex AI: For more details on the Vertex AI Gemini API, see the [Vertex AI documentation](https://cloud.google.com/vertex-ai/docs/generative-ai/model-reference/gemini).\n\n## About the models\n\nFor Google AI the list of supported models is [here](https://ai.google.dev/models/gemini), and this parameter should be set to the model name, the second segment of the model code (for\nexample `models/gemini-1.0-pro` should be chosen as `gemini-1.0-pro`).\n\nFor Vertex AI, the list of models is [here](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/models).\n\n## Handling errors\n\nIf the extension encounters an error, it will write an error message to the document in the `status` field. You can use this field to monitor for errors in your documents. Currently some errors will instruct you to visit the Cloud Function logs for the extension, to avoid exposing sensitive information.\n\n## Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Build Chatbot with the Gemini API\n\n**Author**: Google Cloud (**[https://cloud.google.com/](https://cloud.google.com/)**)\n\n**Description**: Deploys customizable chatbots using Gemini models and Firestore.\n\n\n\n**Details**: Use this extension to easily deploy a chatbot using Gemini models, stored and managed by Cloud Firestore.\n\nOn install you will be asked to provide:\n\n- **Gemini API Provider** This extension makes use of the Gemini family of models. Currently the extension supports the Google AI Gemini API and the Vertex AI Gemini API. Learn more about the differences between the Google AI and Vertex AI Gemini APIs [here](https://cloud.google.com/vertex-ai/docs/generative-ai/migrate/migrate-google-ai).\n\nNote that Generative AI on Vertex AI is only available in the regions listed [here](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/locations-genai).\n\nA list of languages and regions supported by the Gemini API on Google AI is [here](https://ai.google.dev/available_regions).\n\n- **Gemini Model**: Input the name of the Gemini model you would like to use. To view available models for each provider, see:\n- [Vertex AI Gemini models](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/models)\n- [Google AI Gemini models](https://ai.google.dev/models/gemini)\n\n- **Firestore Collection Path**: Used to store conversation history represented as documents. This extension will listen to the specified collection(s) for new message documents.\n\nThe collection path also supports wildcards, so you can trigger the extension on multiple collections, each with their own private conversation history. This is useful if you want to create separate conversations for different users, or support multiple chat sessions.\n\nMessage documents might look like this:\n\n```\n{\n  prompt: \"What is the best museum to visit in Barcelona, Spain?\"\n}\n```\n\nWhen a message document is added, the extension will:\n\n- Obtain conversation history by sorting the documents of the collection.\n- Query the language model you selected during configuration.\n- Write the message back to the triggering document in a configurable response field.\n\nA createTime field (or a field by another name if provided during installation) will be automatically created for you on document creation, and will be used to order the conversation history. The chosen generative model will have a limited context window, so only the most recent messages will be used as history to generate the next response. Alternatively, If documents in the specified collection already contain a field representing timestamps, you can use that as the order field instead.\n\nYou can configure the chatbot to return different responses by providing context during installation. For example, if you want the chatbot to act as a travel guide, you might use this as the context:\n\n```\nI want you to act as a travel guide. I will ask you questions about various travel destinations, and you will describe those destinations and give me suggestions on places to visit.\n```\n\nYou can also configure the model to return different results by tweaking model parameters (temperature, candidate count, etc.), which are exposed as configuration during install as well.\n\n## Additional Setup\n\nEnsure you have a [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) set up in your Firebase project, set up in your Firebase project, and have obtained an API key for the Gemini API.\n\n### Regenerating a response\n\nChanging the state field of a completed document's status from `COMPLETED` to anything else will retrigger the extension for that document.\n\n### Genkit Monitoring\n\nThis extension supports Genkit monitoring, which provides detailed insights into the performance and behavior of your chatbot. When enabled, Genkit monitoring will:\n\n- Track model response times and latency\n- Monitor token usage and costs\n- Provide visibility into model behavior and safety settings\n- Help identify potential issues or optimization opportunities\n\nTo enable Genkit monitoring, set the `Enable Genkit Monitoring` configuration parameter to `yes` during installation. Note that enabling this feature may incur additional costs depending on your usage.\n\n## Billing\n\nTo install an extension, your project must be on the Blaze (pay as you go) plan. You will be charged a small amount (typically around $0.01/month) for the Firebase resources required by this extension (even if it is not used).\nThis extension uses other Firebase and Google Cloud Platform services, which have associated charges if you exceed the service's no-cost tier:\n\n- Cloud Firestore\n- Cloud Functions (See [FAQs](https://firebase.google.com/support/faq#extensions-pricing))\n- Associated costs for using Vertex AI ([see their pricing](https://cloud.google.com/vertex-ai/pricing#generative_ai_models)) if you use this provider.\n- Associated costs for using Google AI ([see their pricing](https://ai.google.dev/pricing)) if you use this provider.\n\n[Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\n\n\n\n**Configuration Parameters:**\n\n* Gemini API Provider: This extension makes use of the Gemini family of generative models. For Google AI you will require an API key, whereas Vertex AI will authenticate using application default credentials. For more information see the [docs](https://firebase.google.com/docs/admin/setup#initialize-sdk).\n\n* Google AI API Key: If you have selected Google AI as your provider, then this parameteris required. If you have instead selected Vertex AI, then this parameter is not required, and application default credentials will be used.\n\n* Gemini model: Input the name of the Gemini model you would like to use. To view available models for each provider, see: [Vertex AI Gemini models](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/models), [Google AI Gemini models](https://ai.google.dev/models/gemini)\n\n* Firestore Collection Path: Used to store conversation history represented as documents. This extension will listen to the specified collection(s) for new message documents.\n\n* Prompt Field: The field in the message document that contains the prompt.\n\n* Response Field: The field in the message document into which to put the response.\n\n* Order Field: The field by which to order when fetching conversation history. If absent when processing begins, the current timestamp will be written to this field. Sorting will be in descending order.\n\n* Cloud Functions location: Where do you want to deploy the functions created for this extension? For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations). Note that Generative AI on Vertex AI is only available in the regions listed [here](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/locations-genai). A list of languages and regions supported by the Gemini API on Google AI is [here](https://ai.google.dev/available_regions).\n\n* Context: Contextual preamble for the generative AI model. A string giving context for the discussion.\n\n* Temperature: Controls the randomness of the output. Values can range over [0,1], inclusive. A value closer to 1 will produce responses that are more varied, while a value closer to 0 will typically result in less surprising responses from the model.\n\n* Nucleus sampling probability: If specified, nucleus sampling will be used as the decoding strategy. Nucleus sampling considers the smallest set of tokens whose probability sum is at least a fixed value. Enter a value between 0 and 1.\n\n* Sampling strategy parameter: If specified, top-k sampling will be used as the decoding strategy. Top-k sampling considers the set of topK most probable tokens.\n\n* Candidate count: The default value is one. When set to an integer higher than one, additional candidate responses, up to the specified number, will be stored in Firestore under the 'candidates' field.\n\n* Max Output Tokens: If specified, this parameter is passed to the Gemini API to control the length of the response.\n\n* Candidates field: The field in the message document into which to put the other candidate responses if the candidate count parameter is greater than one.\n\n* Enable per document overrides.: If set to \\\"Yes\\\", discussion parameters may be overwritten by fields in the discussion collection.\n\n* Enable Genkit Monitoring: If set to \"Yes\", enables Genkit Monitoring for collecting and viewing real-time telemetry data. This requires the Cloud Logging API, Cloud Trace API, and Cloud Monitoring API to be enabled, and appropriate IAM roles to be configured. See the documentation for more details.\n\n* Hate Speech Threshold: Threshold for hate speech content. Specify what probability level of hate speech content is blocked by the Gemini provider.\n\n* Dangerous Content Threshold: Threshold for dangerous content. Specify what probability level of dangerous content is blocked by the Gemini provider.\n\n* harassment Content Threshold: Threshold for harassment content. Specify what probability level of harassment content is blocked by the Gemini provider.\n\n* Sexual Content Threshold: Threshold for sexually explicit content. Specify what probability level of sexual content is blocked by the Gemini provider.\n\n\n\n**Cloud Functions:**\n\n* **generateMessage:** Listens to Firestore data writes to generate conversations.\n\n\n\n**APIs Used**:\n\n* aiplatform.googleapis.com (Reason: For access to the Vertex AI Gemini API if this provider is chosen.)\n\n\n\n**Access Required**:\n\n\n\nThis extension will operate with the following project IAM roles:\n\n* datastore.user (Reason: Allows this extension to access Cloud Firestore to read and process added messages.)\n\n* aiplatform.user (Reason: Allows this extension to access the Vertex AI API if this provider is chosen.)\n\n* monitoring.metricWriter (Reason: Allows this extension to write metrics to Cloud Monitoring when Genkit monitoring is enabled.)\n\n* cloudtrace.agent (Reason: Allows this extension to write trace data to Cloud Trace when Genkit monitoring is enabled.)\n\n* logging.logWriter (Reason: Allows this extension to write logs to Cloud Logging when Genkit monitoring is enabled.)\n","displayName":"Build Chatbot with the Gemini API","icon":"icon.png","tags":["ai","chatbot-ai","generative-ai","text-ai","generative-ai","vertex-ai","generative-models","llm","nlp","google-ai"]},"fetchTime":"2025-05-12T12:00:43.633352Z","lastOperationName":"projects/pub-ext-gcloud/operations/5cad7d8e-f72a-4f9e-ac3b-974afb6cbdec","state":"ACTIVE","iconUri":"https://storage.googleapis.com/firebase-extensions-icons/extension_icons/googlecloud/firestore-genai-chatbot_0.0.14@512.png"},"params":{"MODEL":"gemini-2.5-flash","HARM_CATEGORY_HATE_SPEECH":"HARM_BLOCK_THRESHOLD_UNSPECIFIED","GENERATIVE_AI_PROVIDER":"google-ai","HARM_CATEGORY_SEXUALLY_EXPLICIT":"HARM_BLOCK_THRESHOLD_UNSPECIFIED","PROMPT_FIELD":"prompt","ENABLE_DISCUSSION_OPTION_OVERRIDES":"no","ORDER_FIELD":"createTime","COLLECTION_NAME":"generate","RESPONSE_FIELD":"response","CANDIDATES_FIELD":"candidates","LOCATION":"us-central1","HARM_CATEGORY_HARASSMENT":"HARM_BLOCK_THRESHOLD_UNSPECIFIED","HARM_CATEGORY_DANGEROUS_CONTENT":"HARM_BLOCK_THRESHOLD_UNSPECIFIED","ENABLE_GENKIT_MONITORING":"no","CANDIDATE_COUNT":"1"},"populatedPostinstallContent":"## Testing the extension\n\nYou can test out the extension right away by following these steps:\n\n1. Go to the [Cloud Firestore dashboard](https://console.firebase.google.com/project/_/firestore) in the Firebase console.\n2. If it doesn't already exist, create the collection you specified during installation: **generate**.\n3. Add a document with a **prompt** field containing your first message:\n\n```\nprompt: \"How are you today?\"\n```\n\n4. In a few seconds, you'll see a **createTime** field and then a status field should appear in the document. The status field will update as the extension processes the message.\n5. When processing is finished, the **response** field of the document should be populated with the response from the selected generative AI model.\n\n```javascript\nconst ref = await admin\n    .firestore()\n    .collection(\"generate\")\n    .add({\n        prompt: \"How are you today?\",\n    })\n\nref.onSnapshot(snap => {\n    if (snap.get('response')) console.log(\n        'RESPONSE:' +\n        snap.get('response')\n    )\n})\n```\n\n## About the providers\n\nThe extension gives you a choice of what provider to use for the available models:\n\n- Google AI: For more details on this Gemini API, see the [Gemini homepage](https://ai.google.dev/docs).\n\n- Vertex AI: For more details on the Vertex AI Gemini API, see the [Vertex AI documentation](https://cloud.google.com/vertex-ai/docs/generative-ai/model-reference/gemini).\n\n## About the models\n\nFor Google AI the list of supported models is [here](https://ai.google.dev/models/gemini), and this parameter should be set to the model name, the second segment of the model code (for\nexample `models/gemini-1.0-pro` should be chosen as `gemini-1.0-pro`).\n\nFor Vertex AI, the list of models is [here](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/models).\n\n## Handling errors\n\nIf the extension encounters an error, it will write an error message to the document in the `status` field. You can use this field to monitor for errors in your documents. Currently some errors will instruct you to visit the Cloud Function logs for the extension, to avoid exposing sensitive information.\n\n## Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","extensionRef":"googlecloud/firestore-genai-chatbot","extensionVersion":"0.0.14","systemParams":{"firebaseextensions.v1beta.function/vpcConnectorEgressSettings":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","firebaseextensions.v1beta.function/minInstances":"0","firebaseextensions.v1beta.function/memory":"256"}},"lastOperationName":"projects/creme-collections-8a8bx/operations/16148870-4a2a-4031-8979-070dad9ad54f","serviceAccountEmail":"ext-firestore-genai-chatbot@creme-collections-8a8bx.iam.gserviceaccount.com","lastOperationType":"CREATE","etag":"0e45091e58fe52a91fa1ef9fc285641dd34a15ac4f394125202b35f0b9700b3d"}]}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /home/user/studio/functions (142.89 KB) for uploading 
[debug] [2025-07-03T13:34:33.740Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:33.740Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:33.740Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/creme-collections-8a8bx/locations/-/functions [none]
[debug] [2025-07-03T13:34:34.298Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/creme-collections-8a8bx/locations/-/functions 200
[debug] [2025-07-03T13:34:34.300Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/creme-collections-8a8bx/locations/-/functions {"functions":[{"name":"projects/creme-collections-8a8bx/locations/us-central1/functions/ext-firestore-genai-chatbot-generateMessage","description":"Listens to Firestore data writes to generate conversations.","sourceArchiveUrl":"gs://firebase-mod-sources-prod/c9d0380d3b229cf26fbae1a7607f1b49cee06a86d5d710ef2b28a8771868be8d","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/creme-collections-8a8bx/databases/(default)/documents/generate/{messageId}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"generateMessage","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ext-firestore-genai-chatbot@creme-collections-8a8bx.iam.gserviceaccount.com","updateTime":"2025-06-30T06:07:10.304Z","versionId":"2","labels":{"firebase-extensions-ar":"enabled","goog-dm":"firebase-ext-firestore-genai-chatbot","goog-firebase-ext":"firestore-genai-chatbot","deployment-tool":"firebase-extensions","goog-firebase-ext-iid":"firestore-genai-chatbot"},"environmentVariables":{"CANDIDATE_COUNT":"1","CANDIDATES_FIELD":"candidates","COLLECTION_NAME":"generate","DATABASE_INSTANCE":"","DATABASE_URL":"","ENABLE_DISCUSSION_OPTION_OVERRIDES":"no","ENABLE_GENKIT_MONITORING":"no","EXT_INSTANCE_ID":"firestore-genai-chatbot","FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"databaseURL\":\"\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","GENERATIVE_AI_PROVIDER":"google-ai","HARM_CATEGORY_DANGEROUS_CONTENT":"HARM_BLOCK_THRESHOLD_UNSPECIFIED","HARM_CATEGORY_HARASSMENT":"HARM_BLOCK_THRESHOLD_UNSPECIFIED","HARM_CATEGORY_HATE_SPEECH":"HARM_BLOCK_THRESHOLD_UNSPECIFIED","HARM_CATEGORY_SEXUALLY_EXPLICIT":"HARM_BLOCK_THRESHOLD_UNSPECIFIED","LOCATION":"us-central1","MODEL":"gemini-2.5-flash","ORDER_FIELD":"createTime","PROJECT_ID":"creme-collections-8a8bx","PROMPT_FIELD":"prompt","RESPONSE_FIELD":"response","STORAGE_BUCKET":"creme-collections-8a8bx.firebasestorage.app"},"runtime":"nodejs20","maxInstances":3000,"ingressSettings":"ALLOW_INTERNAL_ONLY","buildId":"47a7443e-185c-4df4-adee-b27082c16c91","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/789348427533/locations/us-central1/builds/47a7443e-185c-4df4-adee-b27082c16c91","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","satisfiesPzi":true}]}
[debug] [2025-07-03T13:34:34.302Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:34.302Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:34.303Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-07-03T13:34:35.290Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/-/functions 200
[debug] [2025-07-03T13:34:35.290Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/-/functions {}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-07-03T13:34:35.306Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:35.306Z] Checked if tokens are valid: true, expires at: 1751551543306
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-07-03T13:34:35.306Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:35.306Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:35.306Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/789348427533/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-07-03T13:34:35.307Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/789348427533/services/pubsub.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/789348427533
[debug] [2025-07-03T13:34:35.307Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/789348427533/services/pubsub.googleapis.com:generateServiceIdentity {}
[debug] [2025-07-03T13:34:35.308Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/789348427533/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-07-03T13:34:35.308Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/789348427533/services/eventarc.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/789348427533
[debug] [2025-07-03T13:34:35.309Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/789348427533/services/eventarc.googleapis.com:generateServiceIdentity {}
[debug] [2025-07-03T13:34:36.177Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/789348427533/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-07-03T13:34:36.177Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/789348427533/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-789348427533@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"101197519448777129811"}}
[debug] [2025-07-03T13:34:36.196Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/789348427533/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-07-03T13:34:36.198Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/789348427533/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-789348427533@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"107164270145448495895"}}
[debug] [2025-07-03T13:34:36.206Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:36.206Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:36.206Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx [none]
[debug] [2025-07-03T13:34:36.390Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx 200
[debug] [2025-07-03T13:34:36.390Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx {"projectNumber":"789348427533","projectId":"creme-collections-8a8bx","lifecycleState":"ACTIVE","name":"Creme Collections","labels":{"monospace-workspace-id":"studio-4117069302","firebase":"enabled","firebase-core":"disabled","generative-language":"enabled"},"createTime":"2025-06-24T08:04:00.623545Z"}
[debug] [2025-07-03T13:34:36.391Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:36.392Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:36.392Z] >>> [apiv2][query] GET https://compute.googleapis.com/compute/v1/projects/789348427533 [none]
[debug] [2025-07-03T13:34:36.650Z] <<< [apiv2][status] GET https://compute.googleapis.com/compute/v1/projects/789348427533 200
[debug] [2025-07-03T13:34:36.654Z] <<< [apiv2][body] GET https://compute.googleapis.com/compute/v1/projects/789348427533 {"kind":"compute#project","id":"879002026976927000","creationTimestamp":"2025-06-30T21:28:39.534-07:00","name":"creme-collections-8a8bx","commonInstanceMetadata":{"kind":"compute#metadata","fingerprint":"GrzsLBApN2Y="},"quotas":[{"metric":"SNAPSHOTS","limit":1000,"usage":0},{"metric":"NETWORKS","limit":5,"usage":1},{"metric":"FIREWALLS","limit":100,"usage":4},{"metric":"IMAGES","limit":100,"usage":0},{"metric":"STATIC_ADDRESSES","limit":8,"usage":0},{"metric":"ROUTES","limit":200,"usage":0},{"metric":"FORWARDING_RULES","limit":15,"usage":0},{"metric":"TARGET_POOLS","limit":50,"usage":0},{"metric":"HEALTH_CHECKS","limit":75,"usage":0},{"metric":"IN_USE_ADDRESSES","limit":4,"usage":0},{"metric":"TARGET_INSTANCES","limit":50,"usage":0},{"metric":"TARGET_HTTP_PROXIES","limit":10,"usage":0},{"metric":"URL_MAPS","limit":10,"usage":0},{"metric":"BACKEND_SERVICES","limit":50,"usage":0},{"metric":"INSTANCE_TEMPLATES","limit":100,"usage":0},{"metric":"TARGET_VPN_GATEWAYS","limit":5,"usage":0},{"metric":"VPN_TUNNELS","limit":10,"usage":0},{"metric":"BACKEND_BUCKETS","limit":3,"usage":0},{"metric":"ROUTERS","limit":10,"usage":0},{"metric":"TARGET_SSL_PROXIES","limit":10,"usage":0},{"metric":"TARGET_HTTPS_PROXIES","limit":10,"usage":0},{"metric":"SSL_CERTIFICATES","limit":10,"usage":0},{"metric":"SUBNETWORKS","limit":100,"usage":0},{"metric":"TARGET_TCP_PROXIES","limit":10,"usage":0},{"metric":"CPUS_ALL_REGIONS","limit":12,"usage":0},{"metric":"SECURITY_POLICIES","limit":0,"usage":0},{"metric":"SECURITY_POLICY_RULES","limit":0,"usage":0},{"metric":"XPN_SERVICE_PROJECTS","limit":1000,"usage":0},{"metric":"PACKET_MIRRORINGS","limit":20,"usage":0},{"metric":"NETWORK_ENDPOINT_GROUPS","limit":100,"usage":0},{"metric":"INTERCONNECTS","limit":6,"usage":0},{"metric":"SSL_POLICIES","limit":10,"usage":0},{"metric":"GLOBAL_INTERNAL_ADDRESSES","limit":5000,"usage":0},{"metric":"VPN_GATEWAYS","limit":5,"usage":0},{"metric":"MACHINE_IMAGES","limit":100,"usage":0},{"metric":"SECURITY_POLICY_CEVAL_RULES","limit":0,"usage":0},{"metric":"GPUS_ALL_REGIONS","limit":0,"usage":0},{"metric":"EXTERNAL_VPN_GATEWAYS","limit":5,"usage":0},{"metric":"PUBLIC_ADVERTISED_PREFIXES","limit":1,"usage":0},{"metric":"PUBLIC_DELEGATED_PREFIXES","limit":10,"usage":0},{"metric":"STATIC_BYOIP_ADDRESSES","limit":128,"usage":0},{"metric":"NETWORK_FIREWALL_POLICIES","limit":10,"usage":0},{"metric":"INTERNAL_TRAFFIC_DIRECTOR_FORWARDING_RULES","limit":15,"usage":0},{"metric":"GLOBAL_EXTERNAL_MANAGED_FORWARDING_RULES","limit":15,"usage":0},{"metric":"GLOBAL_INTERNAL_MANAGED_BACKEND_SERVICES","limit":50,"usage":0},{"metric":"GLOBAL_EXTERNAL_MANAGED_BACKEND_SERVICES","limit":50,"usage":0},{"metric":"GLOBAL_EXTERNAL_PROXY_LB_BACKEND_SERVICES","limit":50,"usage":0},{"metric":"GLOBAL_INTERNAL_TRAFFIC_DIRECTOR_BACKEND_SERVICES","limit":100,"usage":0}],"selfLink":"https://www.googleapis.com/compute/v1/projects/creme-collections-8a8bx","defaultServiceAccount":"789348427533-compute@developer.gserviceaccount.com","xpnProjectStatus":"UNSPECIFIED_XPN_PROJECT_STATUS","defaultNetworkTier":"PREMIUM","vmDnsSetting":"ZONAL_ONLY","cloudArmorTier":"CA_STANDARD"}
[debug] [2025-07-03T13:34:36.662Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:36.663Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:36.663Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/creme-collections-8a8bx/billingInfo [none]
[debug] [2025-07-03T13:34:37.210Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/creme-collections-8a8bx/billingInfo 200
[debug] [2025-07-03T13:34:37.210Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/creme-collections-8a8bx/billingInfo {"name":"projects/creme-collections-8a8bx/billingInfo","projectId":"creme-collections-8a8bx","billingAccountName":"billingAccounts/01D495-120055-606910","billingEnabled":true}
[debug] [2025-07-03T13:34:37.216Z] [functions] found 1 new HTTP functions, testing setIamPolicy permission...
[debug] [2025-07-03T13:34:37.217Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:37.217Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:37.217Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx:testIamPermissions [none]
[debug] [2025-07-03T13:34:37.217Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx:testIamPermissions x-goog-quota-user=projects/creme-collections-8a8bx
[debug] [2025-07-03T13:34:37.217Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx:testIamPermissions {"permissions":["cloudfunctions.functions.setIamPolicy"]}
[debug] [2025-07-03T13:34:37.364Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx:testIamPermissions 200
[debug] [2025-07-03T13:34:37.364Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx:testIamPermissions {"permissions":["cloudfunctions.functions.setIamPolicy"]}
[debug] [2025-07-03T13:34:37.365Z] [functions] found setIamPolicy permission, proceeding with deploy
[debug] [2025-07-03T13:34:37.369Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:37.369Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:37.370Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-07-03T13:34:38.175Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-07-03T13:34:38.176Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-789348427533.us-central1.cloudfunctions.appspot.com/51fe2c52-06c6-43d3-8cd8-9f894b724ffb.zip?GoogleAccessId=service-789348427533@gcf-admin-robot.iam.gserviceaccount.com&Expires=1751551478&Signature=TV4mopZRAKRncFz3om%2Bo2ahYhHhK8c%2BJz1gbSodBQHDOhPzTMd7mKncscREOjAo8Fo8vyfub7rYCOuIqV4LunAVtF6BWR32JC9e1rg4w1PR6nzlyx074UjkAfkS8K5WI1vQGohR9mt9%2FTZBqbK7%2BY7Zu2y9HvnKXa3rCIVEykkmVbjLA%2FzOFj%2FP%2F4LWKoml2I8vQYXzV7qSvU4nokHLZwPVVu3RtBxfNUSMeaahj6QQGI1vURELazb86SvvmYiKyAUQopKqX3gwldxK3f9ync%2Fz5FlMmnro%2BY0EtpXFzhCr1Tu5xVEYnlqW1M795iRBaHg%2F0X%2BLzAfOrpxBCxAsIjw%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-789348427533.us-central1.cloudfunctions.appspot.com","object":"51fe2c52-06c6-43d3-8cd8-9f894b724ffb.zip"}}
[debug] [2025-07-03T13:34:38.180Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-789348427533.us-central1.cloudfunctions.appspot.com/51fe2c52-06c6-43d3-8cd8-9f894b724ffb.zip GoogleAccessId=service-789348427533%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1751551478&Signature=TV4mopZRAKRncFz3om%2Bo2ahYhHhK8c%2BJz1gbSodBQHDOhPzTMd7mKncscREOjAo8Fo8vyfub7rYCOuIqV4LunAVtF6BWR32JC9e1rg4w1PR6nzlyx074UjkAfkS8K5WI1vQGohR9mt9%2FTZBqbK7%2BY7Zu2y9HvnKXa3rCIVEykkmVbjLA%2FzOFj%2FP%2F4LWKoml2I8vQYXzV7qSvU4nokHLZwPVVu3RtBxfNUSMeaahj6QQGI1vURELazb86SvvmYiKyAUQopKqX3gwldxK3f9ync%2Fz5FlMmnro%2BY0EtpXFzhCr1Tu5xVEYnlqW1M795iRBaHg%2F0X%2BLzAfOrpxBCxAsIjw%3D%3D
[debug] [2025-07-03T13:34:38.180Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-789348427533.us-central1.cloudfunctions.appspot.com/51fe2c52-06c6-43d3-8cd8-9f894b724ffb.zip [stream]
[debug] [2025-07-03T13:34:39.336Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-789348427533.us-central1.cloudfunctions.appspot.com/51fe2c52-06c6-43d3-8cd8-9f894b724ffb.zip 200
[debug] [2025-07-03T13:34:39.337Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-789348427533.us-central1.cloudfunctions.appspot.com/51fe2c52-06c6-43d3-8cd8-9f894b724ffb.zip [omitted]
[info] âœ”  functions: functions folder uploaded successfully 
[info] i  functions: creating Node.js 20 (2nd Gen) function sendBrandedEmail(us-central1)... 
[info] i  functions: creating Node.js 20 (2nd Gen) function helloWorld(us-central1)... 
[info] i  functions: creating Node.js 20 (2nd Gen) function addMessage(us-central1)... 
[debug] [2025-07-03T13:34:39.370Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:39.370Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:39.371Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions functionId=sendBrandedEmail
[debug] [2025-07-03T13:34:39.371Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions {"name":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBrandedEmail","source":{"storageSource":{"bucket":"gcf-v2-uploads-789348427533.us-central1.cloudfunctions.appspot.com","object":"51fe2c52-06c6-43d3-8cd8-9f894b724ffb.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/sendBrandedEmail","FUNCTION_TARGET":"sendBrandedEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase--project-idx","deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"}}
[debug] [2025-07-03T13:34:41.784Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions 200
[debug] [2025-07-03T13:34:41.785Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:34:41.713764936Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","verb":"create","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-07-03T13:34:41.791Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:41.791Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:41.792Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e [none]
[debug] [2025-07-03T13:34:42.491Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e 200
[debug] [2025-07-03T13:34:42.491Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:34:41.713764936Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBrandedEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549681469005"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/sendBrandedEmail","FUNCTION_TARGET":"sendBrandedEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase--project-idx","deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"environment":"GEN_2"},"stages":[{"name":"BUILD","state":"NOT_STARTED"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2025-07-03T13:34:42.992Z] [create-default-us-central1-sendBrandedEmail] Retrying task index 0
[debug] [2025-07-03T13:34:42.993Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:42.993Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:42.993Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e [none]
[debug] [2025-07-03T13:34:43.723Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e 200
[debug] [2025-07-03T13:34:43.723Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:34:41.713764936Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBrandedEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549681469005"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/sendBrandedEmail","FUNCTION_TARGET":"sendBrandedEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase--project-idx","deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/bb17a5c2-c180-4be8-b2df-18525c5650ca?project=789348427533"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca"},"done":false}
[debug] [2025-07-03T13:34:44.724Z] [create-default-us-central1-sendBrandedEmail] Retrying task index 0
[debug] [2025-07-03T13:34:44.725Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:44.725Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:44.725Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e [none]
[debug] [2025-07-03T13:34:45.847Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e 200
[debug] [2025-07-03T13:34:45.849Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:34:41.713764936Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBrandedEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549681469005"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/sendBrandedEmail","FUNCTION_TARGET":"sendBrandedEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase--project-idx","deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/bb17a5c2-c180-4be8-b2df-18525c5650ca?project=789348427533"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca"},"done":false}
[debug] [2025-07-03T13:34:47.851Z] [create-default-us-central1-sendBrandedEmail] Retrying task index 0
[debug] [2025-07-03T13:34:47.851Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:47.852Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:47.852Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e [none]
[debug] [2025-07-03T13:34:48.533Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e 200
[debug] [2025-07-03T13:34:48.533Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:34:41.713764936Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBrandedEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549681469005"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/sendBrandedEmail","FUNCTION_TARGET":"sendBrandedEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase--project-idx","deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/bb17a5c2-c180-4be8-b2df-18525c5650ca?project=789348427533"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca"},"done":false}
[debug] [2025-07-03T13:34:52.538Z] [create-default-us-central1-sendBrandedEmail] Retrying task index 0
[debug] [2025-07-03T13:34:52.539Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:52.539Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:34:52.539Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e [none]
[debug] [2025-07-03T13:34:53.275Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e 200
[debug] [2025-07-03T13:34:53.275Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:34:41.713764936Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBrandedEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549681469005"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/sendBrandedEmail","FUNCTION_TARGET":"sendBrandedEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase--project-idx","deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/bb17a5c2-c180-4be8-b2df-18525c5650ca?project=789348427533"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca"},"done":false}
[debug] [2025-07-03T13:35:01.279Z] [create-default-us-central1-sendBrandedEmail] Retrying task index 0
[debug] [2025-07-03T13:35:01.280Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:01.280Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:01.280Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e [none]
[debug] [2025-07-03T13:35:02.008Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e 200
[debug] [2025-07-03T13:35:02.009Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:34:41.713764936Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBrandedEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549681469005"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/sendBrandedEmail","FUNCTION_TARGET":"sendBrandedEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase--project-idx","deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/bb17a5c2-c180-4be8-b2df-18525c5650ca?project=789348427533"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca"},"done":false}
[debug] [2025-07-03T13:35:12.013Z] [create-default-us-central1-sendBrandedEmail] Retrying task index 0
[debug] [2025-07-03T13:35:12.016Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:12.017Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:12.017Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e [none]
[debug] [2025-07-03T13:35:12.771Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e 200
[debug] [2025-07-03T13:35:12.772Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:34:41.713764936Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBrandedEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549681469005"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/sendBrandedEmail","FUNCTION_TARGET":"sendBrandedEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase--project-idx","deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/bb17a5c2-c180-4be8-b2df-18525c5650ca?project=789348427533"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca"},"done":false}
[debug] [2025-07-03T13:35:22.786Z] [create-default-us-central1-sendBrandedEmail] Retrying task index 0
[debug] [2025-07-03T13:35:22.787Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:22.788Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:22.788Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e [none]
[debug] [2025-07-03T13:35:23.535Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e 200
[debug] [2025-07-03T13:35:23.538Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:34:41.713764936Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBrandedEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549681469005"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/sendBrandedEmail","FUNCTION_TARGET":"sendBrandedEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase--project-idx","deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/bb17a5c2-c180-4be8-b2df-18525c5650ca?project=789348427533"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca"},"done":false}
[debug] [2025-07-03T13:35:33.543Z] [create-default-us-central1-sendBrandedEmail] Retrying task index 0
[debug] [2025-07-03T13:35:33.543Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:33.543Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:33.544Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e [none]
[debug] [2025-07-03T13:35:34.291Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e 200
[debug] [2025-07-03T13:35:34.291Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:34:41.713764936Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBrandedEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549681469005"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/sendBrandedEmail","FUNCTION_TARGET":"sendBrandedEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase--project-idx","deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/bb17a5c2-c180-4be8-b2df-18525c5650ca?project=789348427533"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca"},"done":false}
[debug] [2025-07-03T13:35:44.297Z] [create-default-us-central1-sendBrandedEmail] Retrying task index 0
[debug] [2025-07-03T13:35:44.301Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:44.303Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:44.303Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e [none]
[debug] [2025-07-03T13:35:45.040Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e 200
[debug] [2025-07-03T13:35:45.045Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:34:41.713764936Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBrandedEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549681469005"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/sendBrandedEmail","FUNCTION_TARGET":"sendBrandedEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase--project-idx","deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/bb17a5c2-c180-4be8-b2df-18525c5650ca?project=789348427533"},{"name":"SERVICE","message":"Creating Cloud Run service","state":"IN_PROGRESS","resource":"projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/sendbrandedemail?project=creme-collections-8a8bx"}],"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"CREATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca"},"done":false}
[debug] [2025-07-03T13:35:45.045Z] Got source token Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-07-03T13:35:45.050Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:45.050Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:45.054Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:45.054Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:45.056Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions functionId=helloWorld
[debug] [2025-07-03T13:35:45.056Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions {"name":"projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs20","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-uploads-789348427533.us-central1.cloudfunctions.appspot.com","object":"51fe2c52-06c6-43d3-8cd8-9f894b724ffb.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB"},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"}}
[debug] [2025-07-03T13:35:45.064Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions functionId=addMessage
[debug] [2025-07-03T13:35:45.065Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions {"name":"projects/creme-collections-8a8bx/locations/us-central1/functions/addMessage","buildConfig":{"runtime":"nodejs20","entryPoint":"addMessage","source":{"storageSource":{"bucket":"gcf-v2-uploads-789348427533.us-central1.cloudfunctions.appspot.com","object":"51fe2c52-06c6-43d3-8cd8-9f894b724ffb.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB"},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/addMessage","FUNCTION_TARGET":"addMessage","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase--project-idx","deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"}}
[debug] [2025-07-03T13:35:46.269Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions 200
[debug] [2025-07-03T13:35:46.272Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745707-6390674663af2-98e30bfd-63d1db69","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:35:46.196735719Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld","verb":"create","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-07-03T13:35:46.278Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:46.278Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:46.285Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745707-6390674663af2-98e30bfd-63d1db69 [none]
[debug] [2025-07-03T13:35:46.318Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions 200
[debug] [2025-07-03T13:35:46.322Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745762-6390674670ef5-84acd8d4-15c131f9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:35:46.196139863Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/addMessage","verb":"create","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-07-03T13:35:46.326Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:46.327Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:46.327Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745762-6390674670ef5-84acd8d4-15c131f9 [none]
[debug] [2025-07-03T13:35:46.489Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745762-6390674670ef5-84acd8d4-15c131f9 200
[debug] [2025-07-03T13:35:46.492Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745762-6390674670ef5-84acd8d4-15c131f9 {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745762-6390674670ef5-84acd8d4-15c131f9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:35:46.196139863Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/addMessage","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/addMessage","buildConfig":{"runtime":"nodejs20","entryPoint":"addMessage","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"addMessage/function-source.zip","generation":"1751549745978218"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/addmessage","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/addMessage","FUNCTION_TARGET":"addMessage","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase--project-idx","deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"environment":"GEN_2"},"stages":[{"name":"BUILD","state":"NOT_STARTED"},{"name":"SERVICE","state":"NOT_STARTED"}],"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2025-07-03T13:35:46.504Z] Got source token Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-07-03T13:35:46.981Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745707-6390674663af2-98e30bfd-63d1db69 200
[debug] [2025-07-03T13:35:46.982Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745707-6390674663af2-98e30bfd-63d1db69 {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745707-6390674663af2-98e30bfd-63d1db69","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:35:46.196735719Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs20","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"helloWorld/function-source.zip","generation":"1751549745961309"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca"},{"name":"SERVICE","message":"Creating Cloud Run service","state":"IN_PROGRESS","resource":"projects/creme-collections-8a8bx/locations/us-central1/services/helloworld","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/helloworld?project=creme-collections-8a8bx"}],"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"CREATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca"},"done":false}
[debug] [2025-07-03T13:35:46.982Z] Got source token Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-07-03T13:35:47.007Z] [create-default-us-central1-addMessage] Retrying task index 0
[debug] [2025-07-03T13:35:47.007Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:47.007Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:47.008Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745762-6390674670ef5-84acd8d4-15c131f9 [none]
[debug] [2025-07-03T13:35:47.483Z] [create-default-us-central1-helloWorld] Retrying task index 0
[debug] [2025-07-03T13:35:47.484Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:47.484Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:47.484Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745707-6390674663af2-98e30bfd-63d1db69 [none]
[debug] [2025-07-03T13:35:47.722Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745762-6390674670ef5-84acd8d4-15c131f9 200
[debug] [2025-07-03T13:35:47.722Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745762-6390674670ef5-84acd8d4-15c131f9 {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745762-6390674670ef5-84acd8d4-15c131f9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:35:46.196139863Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/addMessage","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/addMessage","buildConfig":{"runtime":"nodejs20","entryPoint":"addMessage","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"addMessage/function-source.zip","generation":"1751549745978218"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/addmessage","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/addMessage","FUNCTION_TARGET":"addMessage","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase--project-idx","deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca"},{"name":"SERVICE","message":"Creating Cloud Run service","state":"IN_PROGRESS","resource":"projects/creme-collections-8a8bx/locations/us-central1/services/addmessage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/addmessage?project=creme-collections-8a8bx"}],"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"CREATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca"},"done":false}
[debug] [2025-07-03T13:35:47.723Z] Got source token Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-07-03T13:35:48.214Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745707-6390674663af2-98e30bfd-63d1db69 200
[debug] [2025-07-03T13:35:48.215Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745707-6390674663af2-98e30bfd-63d1db69 {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745707-6390674663af2-98e30bfd-63d1db69","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:35:46.196735719Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs20","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"helloWorld/function-source.zip","generation":"1751549745961309"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca"},{"name":"SERVICE","message":"Creating Cloud Run service","state":"IN_PROGRESS","resource":"projects/creme-collections-8a8bx/locations/us-central1/services/helloworld","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/helloworld?project=creme-collections-8a8bx"}],"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"CREATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca"},"done":false}
[debug] [2025-07-03T13:35:48.216Z] Got source token Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-07-03T13:35:48.729Z] [create-default-us-central1-addMessage] Retrying task index 0
[debug] [2025-07-03T13:35:48.729Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:48.729Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:48.729Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745762-6390674670ef5-84acd8d4-15c131f9 [none]
[debug] [2025-07-03T13:35:49.217Z] [create-default-us-central1-helloWorld] Retrying task index 0
[debug] [2025-07-03T13:35:49.224Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:49.224Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:49.230Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745707-6390674663af2-98e30bfd-63d1db69 [none]
[debug] [2025-07-03T13:35:49.425Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745762-6390674670ef5-84acd8d4-15c131f9 200
[debug] [2025-07-03T13:35:49.430Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745762-6390674670ef5-84acd8d4-15c131f9 {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745762-6390674670ef5-84acd8d4-15c131f9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:35:46.196139863Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/addMessage","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/addMessage","buildConfig":{"runtime":"nodejs20","entryPoint":"addMessage","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"addMessage/function-source.zip","generation":"1751549745978218"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/addmessage","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/addMessage","FUNCTION_TARGET":"addMessage","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase--project-idx","deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca"},{"name":"SERVICE","message":"Creating Cloud Run service","state":"IN_PROGRESS","resource":"projects/creme-collections-8a8bx/locations/us-central1/services/addmessage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/addmessage?project=creme-collections-8a8bx"}],"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"CREATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca"},"done":false}
[debug] [2025-07-03T13:35:49.431Z] Got source token Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-07-03T13:35:49.909Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745707-6390674663af2-98e30bfd-63d1db69 200
[debug] [2025-07-03T13:35:49.917Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745707-6390674663af2-98e30bfd-63d1db69 {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745707-6390674663af2-98e30bfd-63d1db69","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:35:46.196735719Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs20","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"helloWorld/function-source.zip","generation":"1751549745961309"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca"},{"name":"SERVICE","message":"Creating Cloud Run service","state":"IN_PROGRESS","resource":"projects/creme-collections-8a8bx/locations/us-central1/services/helloworld","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/helloworld?project=creme-collections-8a8bx"}],"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"CREATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca"},"done":false}
[debug] [2025-07-03T13:35:49.917Z] Got source token Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-07-03T13:35:51.443Z] [create-default-us-central1-addMessage] Retrying task index 0
[debug] [2025-07-03T13:35:51.454Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:51.455Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:51.459Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745762-6390674670ef5-84acd8d4-15c131f9 [none]
[debug] [2025-07-03T13:35:51.923Z] [create-default-us-central1-helloWorld] Retrying task index 0
[debug] [2025-07-03T13:35:51.924Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:51.924Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:51.932Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745707-6390674663af2-98e30bfd-63d1db69 [none]
[debug] [2025-07-03T13:35:52.158Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745762-6390674670ef5-84acd8d4-15c131f9 200
[debug] [2025-07-03T13:35:52.163Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745762-6390674670ef5-84acd8d4-15c131f9 {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745762-6390674670ef5-84acd8d4-15c131f9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:35:46.196139863Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/addMessage","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/addMessage","buildConfig":{"runtime":"nodejs20","entryPoint":"addMessage","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"addMessage/function-source.zip","generation":"1751549745978218"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/addmessage","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/addMessage","FUNCTION_TARGET":"addMessage","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase--project-idx","deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca"},{"name":"SERVICE","message":"Creating Cloud Run service","state":"IN_PROGRESS","resource":"projects/creme-collections-8a8bx/locations/us-central1/services/addmessage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/addmessage?project=creme-collections-8a8bx"}],"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"CREATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca"},"done":false}
[debug] [2025-07-03T13:35:52.163Z] Got source token Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-07-03T13:35:52.658Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745707-6390674663af2-98e30bfd-63d1db69 200
[debug] [2025-07-03T13:35:52.666Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745707-6390674663af2-98e30bfd-63d1db69 {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745707-6390674663af2-98e30bfd-63d1db69","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:35:46.196735719Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs20","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"helloWorld/function-source.zip","generation":"1751549745961309"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca"},{"name":"SERVICE","message":"Creating Cloud Run service","state":"IN_PROGRESS","resource":"projects/creme-collections-8a8bx/locations/us-central1/services/helloworld","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/helloworld?project=creme-collections-8a8bx"}],"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"CREATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca"},"done":false}
[debug] [2025-07-03T13:35:52.666Z] Got source token Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-07-03T13:35:55.052Z] [create-default-us-central1-sendBrandedEmail] Retrying task index 0
[debug] [2025-07-03T13:35:55.056Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:55.056Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:55.057Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e [none]
[debug] [2025-07-03T13:35:55.762Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e 200
[debug] [2025-07-03T13:35:55.762Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549680002-63906707ba54e-5182c7b3-a7e7ea9e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:34:41.713764936Z","endTime":"2025-07-03T13:35:55.112366921Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBrandedEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549681469005"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/sendBrandedEmail","FUNCTION_TARGET":"sendBrandedEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase--project-idx","deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"environment":"GEN_2"},"stages":[{"name":"ARTIFACT_REGISTRY","message":"Deleting function artifacts in Artifact Registry","state":"COMPLETE"},{"name":"SERVICE","message":"Deleting Cloud Run service","state":"COMPLETE","resource":"projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail"}],"operationType":"CREATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service sendbrandedemail, Container Healthcheck failed. Revision 'sendbrandedemail-00001-xad' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=creme-collections-8a8bx&resource=cloud_run_revision/service_name/sendbrandedemail/revision_name/sendbrandedemail-00001-xad&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendbrandedemail%22%0Aresource.labels.revision_name%3D%22sendbrandedemail-00001-xad%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2025-07-03T13:35:55.763Z] Got source token undefined for region us-central1
[error] Could not create or update Cloud Run service sendbrandedemail, Container Healthcheck failed. Revision 'sendbrandedemail-00001-xad' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=creme-collections-8a8bx&resource=cloud_run_revision/service_name/sendbrandedemail/revision_name/sendbrandedemail-00001-xad&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendbrandedemail%22%0Aresource.labels.revision_name%3D%22sendbrandedemail-00001-xad%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2025-07-03T13:35:56.164Z] [create-default-us-central1-addMessage] Retrying task index 0
[debug] [2025-07-03T13:35:56.170Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:56.170Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:56.170Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745762-6390674670ef5-84acd8d4-15c131f9 [none]
[debug] [2025-07-03T13:35:56.667Z] [create-default-us-central1-helloWorld] Retrying task index 0
[debug] [2025-07-03T13:35:56.672Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:56.672Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:35:56.672Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745707-6390674663af2-98e30bfd-63d1db69 [none]
[debug] [2025-07-03T13:35:56.819Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745707-6390674663af2-98e30bfd-63d1db69 200
[debug] [2025-07-03T13:35:56.820Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745707-6390674663af2-98e30bfd-63d1db69 {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745707-6390674663af2-98e30bfd-63d1db69","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:35:46.196735719Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs20","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"helloWorld/function-source.zip","generation":"1751549745961309"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca"},{"name":"SERVICE","message":"Creating Cloud Run service","state":"IN_PROGRESS","resource":"projects/creme-collections-8a8bx/locations/us-central1/services/helloworld","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/helloworld?project=creme-collections-8a8bx"}],"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"CREATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca"},"done":false}
[debug] [2025-07-03T13:35:56.820Z] Got source token Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-07-03T13:35:56.873Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745762-6390674670ef5-84acd8d4-15c131f9 200
[debug] [2025-07-03T13:35:56.874Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745762-6390674670ef5-84acd8d4-15c131f9 {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745762-6390674670ef5-84acd8d4-15c131f9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:35:46.196139863Z","endTime":"2025-07-03T13:35:55.190754928Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/addMessage","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/addMessage","buildConfig":{"runtime":"nodejs20","entryPoint":"addMessage","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"addMessage/function-source.zip","generation":"1751549745978218"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/addmessage","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/addMessage","FUNCTION_TARGET":"addMessage","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase--project-idx","deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"environment":"GEN_2"},"stages":[{"name":"ARTIFACT_REGISTRY","message":"Deleting function artifacts in Artifact Registry","state":"COMPLETE"},{"name":"SERVICE","message":"Deleting Cloud Run service","state":"COMPLETE","resource":"projects/creme-collections-8a8bx/locations/us-central1/services/addmessage"}],"operationType":"CREATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service addmessage, Container Healthcheck failed. Revision 'addmessage-00001-but' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=creme-collections-8a8bx&resource=cloud_run_revision/service_name/addmessage/revision_name/addmessage-00001-but&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22addmessage%22%0Aresource.labels.revision_name%3D%22addmessage-00001-but%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2025-07-03T13:35:56.874Z] Got source token undefined for region us-central1
[error] Could not create or update Cloud Run service addmessage, Container Healthcheck failed. Revision 'addmessage-00001-but' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=creme-collections-8a8bx&resource=cloud_run_revision/service_name/addmessage/revision_name/addmessage-00001-but&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22addmessage%22%0Aresource.labels.revision_name%3D%22addmessage-00001-but%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2025-07-03T13:36:04.825Z] [create-default-us-central1-helloWorld] Retrying task index 0
[debug] [2025-07-03T13:36:04.826Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:36:04.826Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:36:04.827Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745707-6390674663af2-98e30bfd-63d1db69 [none]
[debug] [2025-07-03T13:36:05.552Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745707-6390674663af2-98e30bfd-63d1db69 200
[debug] [2025-07-03T13:36:05.552Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745707-6390674663af2-98e30bfd-63d1db69 {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549745707-6390674663af2-98e30bfd-63d1db69","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:35:46.196735719Z","endTime":"2025-07-03T13:36:00.011369171Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs20","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"helloWorld/function-source.zip","generation":"1751549745961309"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iYjE3YTVjMi1jMTgwLTRiZTgtYjJkZi0xODUyNWM1NjUwY2EShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCK6OmsMGEKC+jYsDMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"environment":"GEN_2"},"stages":[{"name":"ARTIFACT_REGISTRY","message":"Deleting function artifacts in Artifact Registry","state":"COMPLETE"},{"name":"SERVICE","message":"Deleting Cloud Run service","state":"COMPLETE","resource":"projects/creme-collections-8a8bx/locations/us-central1/services/helloworld"}],"operationType":"CREATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service helloworld, Container Healthcheck failed. Revision 'helloworld-00001-tap' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=creme-collections-8a8bx&resource=cloud_run_revision/service_name/helloworld/revision_name/helloworld-00001-tap&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22helloworld%22%0Aresource.labels.revision_name%3D%22helloworld-00001-tap%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2025-07-03T13:36:05.552Z] Got source token undefined for region us-central1
[error] Could not create or update Cloud Run service helloworld, Container Healthcheck failed. Revision 'helloworld-00001-tap' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=creme-collections-8a8bx&resource=cloud_run_revision/service_name/helloworld/revision_name/helloworld-00001-tap&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22helloworld%22%0Aresource.labels.revision_name%3D%22helloworld-00001-tap%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2025-07-03T13:36:05.620Z] Total Function Deployment time: 86215
[debug] [2025-07-03T13:36:05.623Z] 3 Functions Deployed
[debug] [2025-07-03T13:36:05.623Z] 3 Functions Errored
[debug] [2025-07-03T13:36:05.623Z] 0 Function Deployments Aborted
[debug] [2025-07-03T13:36:05.623Z] Average Function Deployment time: 80038.66666666667
[info] 
[info] Functions deploy had errors with the following functions:
	addMessage(us-central1)
	helloWorld(us-central1)
	sendBrandedEmail(us-central1)
[debug] [2025-07-03T13:36:05.761Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[debug] [2025-07-03T13:36:05.766Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:36:05.768Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:36:05.769Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-07-03T13:36:06.509Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-07-03T13:36:06.510Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts {"name":"projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-06-27T15:23:05.376721Z","updateTime":"2025-07-03T13:35:54.972203Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"2592000s"}}},"sizeBytes":"651169464","vulnerabilityScanningConfig":{"lastEnableTime":"2025-06-27T15:23:04.688718716Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/creme-collections-8a8bx/gcf-artifacts"}
[debug] [2025-07-03T13:36:06.510Z] Functions deploy failed.
[debug] [2025-07-03T13:36:06.513Z] {
  "endpoint": {
    "id": "sendBrandedEmail",
    "project": "creme-collections-8a8bx",
    "region": "us-central1",
    "entryPoint": "sendBrandedEmail",
    "platform": "gcfv2",
    "runtime": "nodejs20",
    "callableTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase--project-idx"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "creme-collections-8a8bx",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/creme-collections-8a8bx/locations/us-central1/services/sendBrandedEmail"
    },
    "codebase": "default",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "d3e17d00c79fade66a7ffb10783ba52379c45769"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service sendbrandedemail, Container Healthcheck failed. Revision 'sendbrandedemail-00001-xad' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=creme-collections-8a8bx&resource=cloud_run_revision/service_name/sendbrandedemail/revision_name/sendbrandedemail-00001-xad&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendbrandedemail%22%0Aresource.labels.revision_name%3D%22sendbrandedemail-00001-xad%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service sendbrandedemail, Container Healthcheck failed. Revision 'sendbrandedemail-00001-xad' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=creme-collections-8a8bx&resource=cloud_run_revision/service_name/sendbrandedemail/revision_name/sendbrandedemail-00001-xad&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendbrandedemail%22%0Aresource.labels.revision_name%3D%22sendbrandedemail-00001-xad%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-07-03T13:36:06.513Z] {
  "endpoint": {
    "id": "addMessage",
    "project": "creme-collections-8a8bx",
    "region": "us-central1",
    "entryPoint": "addMessage",
    "platform": "gcfv2",
    "runtime": "nodejs20",
    "callableTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase--project-idx"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "creme-collections-8a8bx",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/creme-collections-8a8bx/locations/us-central1/services/addMessage"
    },
    "codebase": "default",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "d3e17d00c79fade66a7ffb10783ba52379c45769"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service addmessage, Container Healthcheck failed. Revision 'addmessage-00001-but' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=creme-collections-8a8bx&resource=cloud_run_revision/service_name/addmessage/revision_name/addmessage-00001-but&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22addmessage%22%0Aresource.labels.revision_name%3D%22addmessage-00001-but%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service addmessage, Container Healthcheck failed. Revision 'addmessage-00001-but' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=creme-collections-8a8bx&resource=cloud_run_revision/service_name/addmessage/revision_name/addmessage-00001-but&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22addmessage%22%0Aresource.labels.revision_name%3D%22addmessage-00001-but%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-07-03T13:36:06.513Z] {
  "endpoint": {
    "id": "helloWorld",
    "project": "creme-collections-8a8bx",
    "region": "us-central1",
    "entryPoint": "helloWorld",
    "platform": "gcfv2",
    "runtime": "nodejs20",
    "httpsTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase--project-idx"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "creme-collections-8a8bx",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/creme-collections-8a8bx/locations/us-central1/services/helloWorld"
    },
    "codebase": "default",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "d3e17d00c79fade66a7ffb10783ba52379c45769"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service helloworld, Container Healthcheck failed. Revision 'helloworld-00001-tap' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=creme-collections-8a8bx&resource=cloud_run_revision/service_name/helloworld/revision_name/helloworld-00001-tap&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22helloworld%22%0Aresource.labels.revision_name%3D%22helloworld-00001-tap%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service helloworld, Container Healthcheck failed. Revision 'helloworld-00001-tap' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=creme-collections-8a8bx&resource=cloud_run_revision/service_name/helloworld/revision_name/helloworld-00001-tap&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22helloworld%22%0Aresource.labels.revision_name%3D%22helloworld-00001-tap%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[error] Error: There was an error deploying functions:
[error] - Error Failed to create function sendBrandedEmail in region us-central1
[error] - Error Failed to create function addMessage in region us-central1
[error] - Error Failed to create function helloWorld in region us-central1
[debug] [2025-07-03T13:36:49.218Z] ----------------------------------------------------------------------
[debug] [2025-07-03T13:36:49.224Z] Command:       /nix/store/rbdrkcs5kkwpalxcd7c6bnm33lk2955n-nodejs-20.19.0/bin/node /home/user/.global_modules/bin/firebase deploy --only functions
[debug] [2025-07-03T13:36:49.226Z] CLI Version:   14.9.0
[debug] [2025-07-03T13:36:49.226Z] Platform:      linux
[debug] [2025-07-03T13:36:49.226Z] Node Version:  v20.19.0
[debug] [2025-07-03T13:36:49.227Z] Time:          Thu Jul 03 2025 13:36:49 GMT+0000 (Coordinated Universal Time)
[debug] [2025-07-03T13:36:49.227Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-07-03T13:36:50.170Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-07-03T13:36:50.172Z] > authorizing via signed-in user (creme.collectionlt@gmail.com)
[debug] [2025-07-03T13:36:50.173Z] [iam] checking project creme-collections-8a8bx for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-07-03T13:36:50.176Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:36:50.176Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:36:50.179Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx:testIamPermissions [none]
[debug] [2025-07-03T13:36:50.180Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx:testIamPermissions x-goog-quota-user=projects/creme-collections-8a8bx
[debug] [2025-07-03T13:36:50.180Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-07-03T13:36:50.979Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx:testIamPermissions 200
[debug] [2025-07-03T13:36:50.983Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-07-03T13:36:50.984Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:36:50.990Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:36:50.990Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/creme-collections-8a8bx/serviceAccounts/creme-collections-8a8bx@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-07-03T13:36:50.990Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/creme-collections-8a8bx/serviceAccounts/creme-collections-8a8bx@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-07-03T13:36:51.677Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/creme-collections-8a8bx/serviceAccounts/creme-collections-8a8bx@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-07-03T13:36:51.682Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/creme-collections-8a8bx/serviceAccounts/creme-collections-8a8bx@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'creme-collections-8a8bx'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] âœ”  functions: Finished running predeploy script. 
[debug] [2025-07-03T13:36:53.778Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:36:53.778Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:36:53.779Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx [none]
[debug] [2025-07-03T13:36:53.953Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx 200
[debug] [2025-07-03T13:36:53.958Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx {"projectNumber":"789348427533","projectId":"creme-collections-8a8bx","lifecycleState":"ACTIVE","name":"Creme Collections","labels":{"monospace-workspace-id":"studio-4117069302","firebase":"enabled","firebase-core":"disabled","generative-language":"enabled"},"createTime":"2025-06-24T08:04:00.623545Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-07-03T13:36:53.969Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:36:53.969Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:36:53.970Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/creme-collections-8a8bx/adminSdkConfig [none]
[debug] [2025-07-03T13:36:54.375Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/creme-collections-8a8bx/adminSdkConfig 200
[debug] [2025-07-03T13:36:54.380Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/creme-collections-8a8bx/adminSdkConfig {"projectId":"creme-collections-8a8bx","storageBucket":"creme-collections-8a8bx.firebasestorage.app"}
[debug] [2025-07-03T13:36:54.381Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:36:54.382Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:36:54.382Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs [none]
[debug] [2025-07-03T13:36:54.601Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs 200
[debug] [2025-07-03T13:36:54.605Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs {"configs":[{"name":"projects/creme-collections-8a8bx/configs/gmail"},{"name":"projects/creme-collections-8a8bx/configs/loyverse"}]}
[debug] [2025-07-03T13:36:54.606Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:36:54.607Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:36:54.607Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:36:54.607Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:36:54.607Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/gmail/variables [none]
[debug] [2025-07-03T13:36:54.613Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/loyverse/variables [none]
[debug] [2025-07-03T13:36:54.805Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/gmail/variables 200
[debug] [2025-07-03T13:36:54.806Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/gmail/variables {"variables":[{"name":"projects/creme-collections-8a8bx/configs/gmail/variables/email","updateTime":"2025-07-02T09:48:49.682156758Z"},{"name":"projects/creme-collections-8a8bx/configs/gmail/variables/app_password","updateTime":"2025-07-02T09:50:10.030670669Z"}]}
[debug] [2025-07-03T13:36:54.809Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:36:54.809Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:36:54.810Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:36:54.810Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:36:54.810Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/gmail/variables/email [none]
[debug] [2025-07-03T13:36:54.815Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/gmail/variables/app_password [none]
[debug] [2025-07-03T13:36:55.004Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/gmail/variables/email 200
[debug] [2025-07-03T13:36:55.009Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/gmail/variables/email {"name":"projects/creme-collections-8a8bx/configs/gmail/variables/email","updateTime":"2025-07-02T09:48:49.682156758Z","text":"admin@cremecollections.shop"}
[debug] [2025-07-03T13:36:55.030Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/gmail/variables/app_password 200
[debug] [2025-07-03T13:36:55.032Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/gmail/variables/app_password {"name":"projects/creme-collections-8a8bx/configs/gmail/variables/app_password","updateTime":"2025-07-02T09:50:10.030670669Z","text":"oeeh gpfb rmxe ptfu"}
[debug] [2025-07-03T13:36:55.335Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/loyverse/variables 200
[debug] [2025-07-03T13:36:55.336Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/loyverse/variables {"variables":[{"name":"projects/creme-collections-8a8bx/configs/loyverse/variables/apitoken","updateTime":"2025-07-03T11:53:59.570952022Z"}]}
[debug] [2025-07-03T13:36:55.336Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:36:55.336Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:36:55.340Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/loyverse/variables/apitoken [none]
[debug] [2025-07-03T13:36:55.522Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/loyverse/variables/apitoken 200
[debug] [2025-07-03T13:36:55.522Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/creme-collections-8a8bx/configs/loyverse/variables/apitoken {"name":"projects/creme-collections-8a8bx/configs/loyverse/variables/apitoken","updateTime":"2025-07-03T11:53:59.570952022Z","text":"91381885677646a6b7a70a0f6342b22f"}
[debug] [2025-07-03T13:36:55.530Z] Validating nodejs source
[debug] [2025-07-03T13:36:56.898Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "lib/index.js",
  "dependencies": {
    "axios": "^1.10.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^6.10.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5"
  },
  "private": true
}
[debug] [2025-07-03T13:36:56.899Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-07-03T13:36:56.912Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-03T13:36:56.932Z] Found firebase-functions binary at '/home/user/studio/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8253

[debug] [2025-07-03T13:36:58.656Z] Got response from /__/functions.yaml {"endpoints":{"sendBrandedEmail":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"sendBrandedEmail"},"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"addMessage":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"addMessage"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-07-03T13:37:02.806Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-07-03T13:37:02.807Z] > authorizing via signed-in user (creme.collectionlt@gmail.com)
[debug] [2025-07-03T13:37:02.807Z] [iam] checking project creme-collections-8a8bx for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-07-03T13:37:02.807Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:02.808Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:02.808Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx:testIamPermissions [none]
[debug] [2025-07-03T13:37:02.808Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx:testIamPermissions x-goog-quota-user=projects/creme-collections-8a8bx
[debug] [2025-07-03T13:37:02.808Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-07-03T13:37:03.517Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx:testIamPermissions 200
[debug] [2025-07-03T13:37:03.522Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-07-03T13:37:03.530Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:03.531Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:03.542Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/creme-collections-8a8bx/instances pageSize=100&pageToken=
[debug] [2025-07-03T13:37:04.349Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/creme-collections-8a8bx/instances 200
[debug] [2025-07-03T13:37:04.350Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/creme-collections-8a8bx/instances {"instances":[{"name":"projects/creme-collections-8a8bx/instances/firestore-genai-chatbot","createTime":"2025-06-27T15:22:35.168634Z","updateTime":"2025-06-30T06:07:24.372688Z","state":"ACTIVE","config":{"name":"projects/creme-collections-8a8bx/instances/firestore-genai-chatbot/configurations/42878794-0e36-4d0b-b65e-a2fc7de5f946","createTime":"2025-06-27T15:22:35.168634Z","source":{"name":"projects/pub-ext-gcloud/sources/ee0a2118-a69d-43ff-852b-a44ae560b353","packageUri":"https://storage.googleapis.com/firebase-extensions-packages-prod/googlecloud-firestore-genai-chatbot-0.0.14-eddbadcd-10bc-4e95-8e72-95758dc2ed12.zip","hash":"ec2d3bda3e1fb1c543e8cd2ef5238ee44f2135151c5cca576d04958636357314","extensionRoot":"/","spec":{"specVersion":"v1beta","name":"firestore-genai-chatbot","version":"0.0.14","description":"Deploys customizable chatbots using Gemini models and Firestore.","apis":[{"apiName":"aiplatform.googleapis.com","reason":"For access to the Vertex AI Gemini API if this provider is chosen."}],"roles":[{"role":"datastore.user","reason":"Allows this extension to access Cloud Firestore to read and process added messages."},{"role":"aiplatform.user","reason":"Allows this extension to access the Vertex AI API if this provider is chosen."},{"role":"monitoring.metricWriter","reason":"Allows this extension to write metrics to Cloud Monitoring when Genkit monitoring is enabled."},{"role":"cloudtrace.agent","reason":"Allows this extension to write trace data to Cloud Trace when Genkit monitoring is enabled."},{"role":"logging.logWriter","reason":"Allows this extension to write logs to Cloud Logging when Genkit monitoring is enabled."}],"resources":[{"name":"generateMessage","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_NAME}/{messageId}\nlocation: ${LOCATION}\nruntime: nodejs20\n","description":"Listens to Firestore data writes to generate conversations.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Google Cloud","url":"https://cloud.google.com/"},"contributors":[{"authorName":"Invertase","email":"oss@invertase.io","url":"https://github.com/invertase"},{"authorName":"Jacob Cable","email":"jacob@invertase.io","url":"https://github.com/cabljac"},{"authorName":"Mais Alheraki","email":"mais@invertase.io","url":"https://github.com/pr-Mais"}],"license":"Apache-2.0","releaseNotesUrl":"https://github.com/GoogleCloudPlatform/firebase-extensions/tree/main/firestore-genai-chatbot/CHANGELOG.md","sourceUrl":"https://github.com/GoogleCloudPlatform/firebase-extensions/tree/main/firestore-genai-chatbot","params":[{"param":"GENERATIVE_AI_PROVIDER","label":"Gemini API Provider","type":"SELECT","description":"This extension makes use of the Gemini family of generative models. For Google AI you will require an API key, whereas Vertex AI will authenticate using application default credentials. For more information see the [docs](https://firebase.google.com/docs/admin/setup#initialize-sdk).","required":true,"options":[{"value":"google-ai","label":"Google AI"},{"value":"vertex-ai","label":"Vertex AI"}],"default":"google-ai"},{"param":"API_KEY","label":"Google AI API Key","type":"SECRET","description":"If you have selected Google AI as your provider, then this parameteris required. If you have instead selected Vertex AI, then this parameter is not required, and application default credentials will be used."},{"param":"MODEL","label":"Gemini model","type":"STRING","description":"Input the name of the Gemini model you would like to use. To view available models for each provider, see: [Vertex AI Gemini models](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/models), [Google AI Gemini models](https://ai.google.dev/models/gemini)","required":true,"default":"gemini-2.0-flash"},{"param":"COLLECTION_NAME","label":"Firestore Collection Path","type":"STRING","description":"Used to store conversation history represented as documents. This extension will listen to the specified collection(s) for new message documents.","required":true,"default":"generate","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Must be a valid Cloud Firestore Collection"},{"param":"PROMPT_FIELD","label":"Prompt Field","type":"STRING","description":"The field in the message document that contains the prompt.","required":true,"default":"prompt","example":"prompt"},{"param":"RESPONSE_FIELD","label":"Response Field","type":"STRING","description":"The field in the message document into which to put the response.","required":true,"default":"response","example":"response"},{"param":"ORDER_FIELD","label":"Order Field","type":"STRING","description":"The field by which to order when fetching conversation history. If absent when processing begins, the current timestamp will be written to this field. Sorting will be in descending order.","default":"createTime","example":"createTime"},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations). Note that Generative AI on Vertex AI is only available in the regions listed [here](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/locations-genai). A list of languages and regions supported by the Gemini API on Google AI is [here](https://ai.google.dev/available_regions).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true},{"param":"CONTEXT","label":"Context","type":"STRING","description":"Contextual preamble for the generative AI model. A string giving context for the discussion."},{"param":"TEMPERATURE","label":"Temperature","type":"STRING","description":"Controls the randomness of the output. Values can range over [0,1], inclusive. A value closer to 1 will produce responses that are more varied, while a value closer to 0 will typically result in less surprising responses from the model.","validationRegex":"^(?:0*(?:\\.\\d+)?|1(\\.0*)?)$","validationErrorMessage":"Please specify a decimal representation of a number between 0 and 1."},{"param":"TOP_P","label":"Nucleus sampling probability","type":"STRING","description":"If specified, nucleus sampling will be used as the decoding strategy. Nucleus sampling considers the smallest set of tokens whose probability sum is at least a fixed value. Enter a value between 0 and 1.","validationRegex":"^(?:0*(?:\\.\\d+)?|1(\\.0*)?)$","validationErrorMessage":"Please specify a decimal representation of a number between 0 and 1."},{"param":"TOP_K","label":"Sampling strategy parameter","type":"STRING","description":"If specified, top-k sampling will be used as the decoding strategy. Top-k sampling considers the set of topK most probable tokens.","validationRegex":"^[1-9][0-9]*","validationErrorMessage":"Please specify a positive integer."},{"param":"CANDIDATE_COUNT","label":"Candidate count","type":"STRING","description":"The default value is one. When set to an integer higher than one, additional candidate responses, up to the specified number, will be stored in Firestore under the 'candidates' field.","default":"1","validationRegex":"^[1-9][0-9]*","validationErrorMessage":"Please specify a positive integer."},{"param":"MAX_OUTPUT_TOKENS","label":"Max Output Tokens","type":"STRING","description":"If specified, this parameter is passed to the Gemini API to control the length of the response.","validationRegex":"^[1-9][0-9]*","validationErrorMessage":"Please specify a positive integer."},{"param":"CANDIDATES_FIELD","label":"Candidates field","type":"STRING","description":"The field in the message document into which to put the other candidate responses if the candidate count parameter is greater than one.","default":"candidates"},{"param":"ENABLE_DISCUSSION_OPTION_OVERRIDES","label":"Enable per document overrides.","type":"SELECT","description":"If set to \\\"Yes\\\", discussion parameters may be overwritten by fields in the discussion collection.","required":true,"options":[{"value":"yes","label":"Yes"},{"value":"no","label":"No"}],"default":"no"},{"param":"ENABLE_GENKIT_MONITORING","label":"Enable Genkit Monitoring","type":"SELECT","description":"If set to \"Yes\", enables Genkit Monitoring for collecting and viewing real-time telemetry data. This requires the Cloud Logging API, Cloud Trace API, and Cloud Monitoring API to be enabled, and appropriate IAM roles to be configured. See the documentation for more details.","required":true,"options":[{"value":"yes","label":"Yes"},{"value":"no","label":"No"}],"default":"no"},{"param":"HARM_CATEGORY_HATE_SPEECH","label":"Hate Speech Threshold","type":"SELECT","description":"Threshold for hate speech content. Specify what probability level of hate speech content is blocked by the Gemini provider.","options":[{"value":"HARM_BLOCK_THRESHOLD_UNSPECIFIED","label":"Default"},{"value":"BLOCK_LOW_AND_ABOVE","label":"Block low and above"},{"value":"BLOCK_MEDIUM_AND_ABOVE","label":"Block medium and above"},{"value":"BLOCK_ONLY_HIGH","label":"Block only high"},{"value":"BLOCK_NONE","label":"Block none"}],"default":"HARM_BLOCK_THRESHOLD_UNSPECIFIED"},{"param":"HARM_CATEGORY_DANGEROUS_CONTENT","label":"Dangerous Content Threshold","type":"SELECT","description":"Threshold for dangerous content. Specify what probability level of dangerous content is blocked by the Gemini provider.","options":[{"value":"HARM_BLOCK_THRESHOLD_UNSPECIFIED","label":"Default"},{"value":"BLOCK_LOW_AND_ABOVE","label":"Block low and above"},{"value":"BLOCK_MEDIUM_AND_ABOVE","label":"Block medium and above"},{"value":"BLOCK_ONLY_HIGH","label":"Block only high"},{"value":"BLOCK_NONE","label":"Block none"}],"default":"HARM_BLOCK_THRESHOLD_UNSPECIFIED"},{"param":"HARM_CATEGORY_HARASSMENT","label":"harassment Content Threshold","type":"SELECT","description":"Threshold for harassment content. Specify what probability level of harassment content is blocked by the Gemini provider.","options":[{"value":"HARM_BLOCK_THRESHOLD_UNSPECIFIED","label":"Default"},{"value":"BLOCK_LOW_AND_ABOVE","label":"Block low and above"},{"value":"BLOCK_MEDIUM_AND_ABOVE","label":"Block medium and above"},{"value":"BLOCK_ONLY_HIGH","label":"Block only high"},{"value":"BLOCK_NONE","label":"Block none"}],"default":"HARM_BLOCK_THRESHOLD_UNSPECIFIED"},{"param":"HARM_CATEGORY_SEXUALLY_EXPLICIT","label":"Sexual Content Threshold","type":"SELECT","description":"Threshold for sexually explicit content. Specify what probability level of sexual content is blocked by the Gemini provider.","options":[{"value":"HARM_BLOCK_THRESHOLD_UNSPECIFIED","label":"Default"},{"value":"BLOCK_LOW_AND_ABOVE","label":"Block low and above"},{"value":"BLOCK_MEDIUM_AND_ABOVE","label":"Block medium and above"},{"value":"BLOCK_ONLY_HIGH","label":"Block only high"},{"value":"BLOCK_NONE","label":"Block none"}],"default":"HARM_BLOCK_THRESHOLD_UNSPECIFIED"}],"preinstallContent":"Use this extension to easily deploy a chatbot using Gemini models, stored and managed by Cloud Firestore.\n\nOn install you will be asked to provide:\n\n- **Gemini API Provider** This extension makes use of the Gemini family of models. Currently the extension supports the Google AI Gemini API and the Vertex AI Gemini API. Learn more about the differences between the Google AI and Vertex AI Gemini APIs [here](https://cloud.google.com/vertex-ai/docs/generative-ai/migrate/migrate-google-ai).\n\nNote that Generative AI on Vertex AI is only available in the regions listed [here](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/locations-genai).\n\nA list of languages and regions supported by the Gemini API on Google AI is [here](https://ai.google.dev/available_regions).\n\n- **Gemini Model**: Input the name of the Gemini model you would like to use. To view available models for each provider, see:\n- [Vertex AI Gemini models](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/models)\n- [Google AI Gemini models](https://ai.google.dev/models/gemini)\n\n- **Firestore Collection Path**: Used to store conversation history represented as documents. This extension will listen to the specified collection(s) for new message documents.\n\nThe collection path also supports wildcards, so you can trigger the extension on multiple collections, each with their own private conversation history. This is useful if you want to create separate conversations for different users, or support multiple chat sessions.\n\nMessage documents might look like this:\n\n```\n{\n  prompt: \"What is the best museum to visit in Barcelona, Spain?\"\n}\n```\n\nWhen a message document is added, the extension will:\n\n- Obtain conversation history by sorting the documents of the collection.\n- Query the language model you selected during configuration.\n- Write the message back to the triggering document in a configurable response field.\n\nA createTime field (or a field by another name if provided during installation) will be automatically created for you on document creation, and will be used to order the conversation history. The chosen generative model will have a limited context window, so only the most recent messages will be used as history to generate the next response. Alternatively, If documents in the specified collection already contain a field representing timestamps, you can use that as the order field instead.\n\nYou can configure the chatbot to return different responses by providing context during installation. For example, if you want the chatbot to act as a travel guide, you might use this as the context:\n\n```\nI want you to act as a travel guide. I will ask you questions about various travel destinations, and you will describe those destinations and give me suggestions on places to visit.\n```\n\nYou can also configure the model to return different results by tweaking model parameters (temperature, candidate count, etc.), which are exposed as configuration during install as well.\n\n## Additional Setup\n\nEnsure you have a [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) set up in your Firebase project, set up in your Firebase project, and have obtained an API key for the Gemini API.\n\n### Regenerating a response\n\nChanging the state field of a completed document's status from `COMPLETED` to anything else will retrigger the extension for that document.\n\n### Genkit Monitoring\n\nThis extension supports Genkit monitoring, which provides detailed insights into the performance and behavior of your chatbot. When enabled, Genkit monitoring will:\n\n- Track model response times and latency\n- Monitor token usage and costs\n- Provide visibility into model behavior and safety settings\n- Help identify potential issues or optimization opportunities\n\nTo enable Genkit monitoring, set the `Enable Genkit Monitoring` configuration parameter to `yes` during installation. Note that enabling this feature may incur additional costs depending on your usage.\n\n## Billing\n\nTo install an extension, your project must be on the Blaze (pay as you go) plan. You will be charged a small amount (typically around $0.01/month) for the Firebase resources required by this extension (even if it is not used).\nThis extension uses other Firebase and Google Cloud Platform services, which have associated charges if you exceed the service's no-cost tier:\n\n- Cloud Firestore\n- Cloud Functions (See [FAQs](https://firebase.google.com/support/faq#extensions-pricing))\n- Associated costs for using Vertex AI ([see their pricing](https://cloud.google.com/vertex-ai/pricing#generative_ai_models)) if you use this provider.\n- Associated costs for using Google AI ([see their pricing](https://ai.google.dev/pricing)) if you use this provider.\n\n[Learn more about Firebase billing.](https://firebase.google.com/pricing)\n","postinstallContent":"## Testing the extension\n\nYou can test out the extension right away by following these steps:\n\n1. Go to the [Cloud Firestore dashboard](https://console.firebase.google.com/project/_/firestore) in the Firebase console.\n2. If it doesn't already exist, create the collection you specified during installation: **${param:COLLECTION_NAME}**.\n3. Add a document with a **${param:PROMPT_FIELD}** field containing your first message:\n\n```\n${param:PROMPT_FIELD}: \"How are you today?\"\n```\n\n4. In a few seconds, you'll see a **${param:ORDER_FIELD}** field and then a status field should appear in the document. The status field will update as the extension processes the message.\n5. When processing is finished, the **${param:RESPONSE_FIELD}** field of the document should be populated with the response from the selected generative AI model.\n\n```javascript\nconst ref = await admin\n    .firestore()\n    .collection(\"${param:COLLECTION_NAME}\")\n    .add({\n        ${param:PROMPT_FIELD}: \"How are you today?\",\n    })\n\nref.onSnapshot(snap => {\n    if (snap.get('${param:RESPONSE_FIELD}')) console.log(\n        'RESPONSE:' +\n        snap.get('${param:RESPONSE_FIELD}')\n    )\n})\n```\n\n## About the providers\n\nThe extension gives you a choice of what provider to use for the available models:\n\n- Google AI: For more details on this Gemini API, see the [Gemini homepage](https://ai.google.dev/docs).\n\n- Vertex AI: For more details on the Vertex AI Gemini API, see the [Vertex AI documentation](https://cloud.google.com/vertex-ai/docs/generative-ai/model-reference/gemini).\n\n## About the models\n\nFor Google AI the list of supported models is [here](https://ai.google.dev/models/gemini), and this parameter should be set to the model name, the second segment of the model code (for\nexample `models/gemini-1.0-pro` should be chosen as `gemini-1.0-pro`).\n\nFor Vertex AI, the list of models is [here](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/models).\n\n## Handling errors\n\nIf the extension encounters an error, it will write an error message to the document in the `status` field. You can use this field to monitor for errors in your documents. Currently some errors will instruct you to visit the Cloud Function logs for the extension, to avoid exposing sensitive information.\n\n## Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Build Chatbot with the Gemini API\n\n**Author**: Google Cloud (**[https://cloud.google.com/](https://cloud.google.com/)**)\n\n**Description**: Deploys customizable chatbots using Gemini models and Firestore.\n\n\n\n**Details**: Use this extension to easily deploy a chatbot using Gemini models, stored and managed by Cloud Firestore.\n\nOn install you will be asked to provide:\n\n- **Gemini API Provider** This extension makes use of the Gemini family of models. Currently the extension supports the Google AI Gemini API and the Vertex AI Gemini API. Learn more about the differences between the Google AI and Vertex AI Gemini APIs [here](https://cloud.google.com/vertex-ai/docs/generative-ai/migrate/migrate-google-ai).\n\nNote that Generative AI on Vertex AI is only available in the regions listed [here](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/locations-genai).\n\nA list of languages and regions supported by the Gemini API on Google AI is [here](https://ai.google.dev/available_regions).\n\n- **Gemini Model**: Input the name of the Gemini model you would like to use. To view available models for each provider, see:\n- [Vertex AI Gemini models](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/models)\n- [Google AI Gemini models](https://ai.google.dev/models/gemini)\n\n- **Firestore Collection Path**: Used to store conversation history represented as documents. This extension will listen to the specified collection(s) for new message documents.\n\nThe collection path also supports wildcards, so you can trigger the extension on multiple collections, each with their own private conversation history. This is useful if you want to create separate conversations for different users, or support multiple chat sessions.\n\nMessage documents might look like this:\n\n```\n{\n  prompt: \"What is the best museum to visit in Barcelona, Spain?\"\n}\n```\n\nWhen a message document is added, the extension will:\n\n- Obtain conversation history by sorting the documents of the collection.\n- Query the language model you selected during configuration.\n- Write the message back to the triggering document in a configurable response field.\n\nA createTime field (or a field by another name if provided during installation) will be automatically created for you on document creation, and will be used to order the conversation history. The chosen generative model will have a limited context window, so only the most recent messages will be used as history to generate the next response. Alternatively, If documents in the specified collection already contain a field representing timestamps, you can use that as the order field instead.\n\nYou can configure the chatbot to return different responses by providing context during installation. For example, if you want the chatbot to act as a travel guide, you might use this as the context:\n\n```\nI want you to act as a travel guide. I will ask you questions about various travel destinations, and you will describe those destinations and give me suggestions on places to visit.\n```\n\nYou can also configure the model to return different results by tweaking model parameters (temperature, candidate count, etc.), which are exposed as configuration during install as well.\n\n## Additional Setup\n\nEnsure you have a [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) set up in your Firebase project, set up in your Firebase project, and have obtained an API key for the Gemini API.\n\n### Regenerating a response\n\nChanging the state field of a completed document's status from `COMPLETED` to anything else will retrigger the extension for that document.\n\n### Genkit Monitoring\n\nThis extension supports Genkit monitoring, which provides detailed insights into the performance and behavior of your chatbot. When enabled, Genkit monitoring will:\n\n- Track model response times and latency\n- Monitor token usage and costs\n- Provide visibility into model behavior and safety settings\n- Help identify potential issues or optimization opportunities\n\nTo enable Genkit monitoring, set the `Enable Genkit Monitoring` configuration parameter to `yes` during installation. Note that enabling this feature may incur additional costs depending on your usage.\n\n## Billing\n\nTo install an extension, your project must be on the Blaze (pay as you go) plan. You will be charged a small amount (typically around $0.01/month) for the Firebase resources required by this extension (even if it is not used).\nThis extension uses other Firebase and Google Cloud Platform services, which have associated charges if you exceed the service's no-cost tier:\n\n- Cloud Firestore\n- Cloud Functions (See [FAQs](https://firebase.google.com/support/faq#extensions-pricing))\n- Associated costs for using Vertex AI ([see their pricing](https://cloud.google.com/vertex-ai/pricing#generative_ai_models)) if you use this provider.\n- Associated costs for using Google AI ([see their pricing](https://ai.google.dev/pricing)) if you use this provider.\n\n[Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\n\n\n\n**Configuration Parameters:**\n\n* Gemini API Provider: This extension makes use of the Gemini family of generative models. For Google AI you will require an API key, whereas Vertex AI will authenticate using application default credentials. For more information see the [docs](https://firebase.google.com/docs/admin/setup#initialize-sdk).\n\n* Google AI API Key: If you have selected Google AI as your provider, then this parameteris required. If you have instead selected Vertex AI, then this parameter is not required, and application default credentials will be used.\n\n* Gemini model: Input the name of the Gemini model you would like to use. To view available models for each provider, see: [Vertex AI Gemini models](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/models), [Google AI Gemini models](https://ai.google.dev/models/gemini)\n\n* Firestore Collection Path: Used to store conversation history represented as documents. This extension will listen to the specified collection(s) for new message documents.\n\n* Prompt Field: The field in the message document that contains the prompt.\n\n* Response Field: The field in the message document into which to put the response.\n\n* Order Field: The field by which to order when fetching conversation history. If absent when processing begins, the current timestamp will be written to this field. Sorting will be in descending order.\n\n* Cloud Functions location: Where do you want to deploy the functions created for this extension? For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations). Note that Generative AI on Vertex AI is only available in the regions listed [here](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/locations-genai). A list of languages and regions supported by the Gemini API on Google AI is [here](https://ai.google.dev/available_regions).\n\n* Context: Contextual preamble for the generative AI model. A string giving context for the discussion.\n\n* Temperature: Controls the randomness of the output. Values can range over [0,1], inclusive. A value closer to 1 will produce responses that are more varied, while a value closer to 0 will typically result in less surprising responses from the model.\n\n* Nucleus sampling probability: If specified, nucleus sampling will be used as the decoding strategy. Nucleus sampling considers the smallest set of tokens whose probability sum is at least a fixed value. Enter a value between 0 and 1.\n\n* Sampling strategy parameter: If specified, top-k sampling will be used as the decoding strategy. Top-k sampling considers the set of topK most probable tokens.\n\n* Candidate count: The default value is one. When set to an integer higher than one, additional candidate responses, up to the specified number, will be stored in Firestore under the 'candidates' field.\n\n* Max Output Tokens: If specified, this parameter is passed to the Gemini API to control the length of the response.\n\n* Candidates field: The field in the message document into which to put the other candidate responses if the candidate count parameter is greater than one.\n\n* Enable per document overrides.: If set to \\\"Yes\\\", discussion parameters may be overwritten by fields in the discussion collection.\n\n* Enable Genkit Monitoring: If set to \"Yes\", enables Genkit Monitoring for collecting and viewing real-time telemetry data. This requires the Cloud Logging API, Cloud Trace API, and Cloud Monitoring API to be enabled, and appropriate IAM roles to be configured. See the documentation for more details.\n\n* Hate Speech Threshold: Threshold for hate speech content. Specify what probability level of hate speech content is blocked by the Gemini provider.\n\n* Dangerous Content Threshold: Threshold for dangerous content. Specify what probability level of dangerous content is blocked by the Gemini provider.\n\n* harassment Content Threshold: Threshold for harassment content. Specify what probability level of harassment content is blocked by the Gemini provider.\n\n* Sexual Content Threshold: Threshold for sexually explicit content. Specify what probability level of sexual content is blocked by the Gemini provider.\n\n\n\n**Cloud Functions:**\n\n* **generateMessage:** Listens to Firestore data writes to generate conversations.\n\n\n\n**APIs Used**:\n\n* aiplatform.googleapis.com (Reason: For access to the Vertex AI Gemini API if this provider is chosen.)\n\n\n\n**Access Required**:\n\n\n\nThis extension will operate with the following project IAM roles:\n\n* datastore.user (Reason: Allows this extension to access Cloud Firestore to read and process added messages.)\n\n* aiplatform.user (Reason: Allows this extension to access the Vertex AI API if this provider is chosen.)\n\n* monitoring.metricWriter (Reason: Allows this extension to write metrics to Cloud Monitoring when Genkit monitoring is enabled.)\n\n* cloudtrace.agent (Reason: Allows this extension to write trace data to Cloud Trace when Genkit monitoring is enabled.)\n\n* logging.logWriter (Reason: Allows this extension to write logs to Cloud Logging when Genkit monitoring is enabled.)\n","displayName":"Build Chatbot with the Gemini API","icon":"icon.png","tags":["ai","chatbot-ai","generative-ai","text-ai","generative-ai","vertex-ai","generative-models","llm","nlp","google-ai"]},"fetchTime":"2025-05-12T12:00:43.633352Z","lastOperationName":"projects/pub-ext-gcloud/operations/5cad7d8e-f72a-4f9e-ac3b-974afb6cbdec","state":"ACTIVE","iconUri":"https://storage.googleapis.com/firebase-extensions-icons/extension_icons/googlecloud/firestore-genai-chatbot_0.0.14@512.png"},"params":{"ENABLE_GENKIT_MONITORING":"no","HARM_CATEGORY_SEXUALLY_EXPLICIT":"HARM_BLOCK_THRESHOLD_UNSPECIFIED","CANDIDATE_COUNT":"1","HARM_CATEGORY_HARASSMENT":"HARM_BLOCK_THRESHOLD_UNSPECIFIED","RESPONSE_FIELD":"response","PROMPT_FIELD":"prompt","ENABLE_DISCUSSION_OPTION_OVERRIDES":"no","LOCATION":"us-central1","GENERATIVE_AI_PROVIDER":"google-ai","CANDIDATES_FIELD":"candidates","COLLECTION_NAME":"generate","MODEL":"gemini-2.5-flash","ORDER_FIELD":"createTime","HARM_CATEGORY_HATE_SPEECH":"HARM_BLOCK_THRESHOLD_UNSPECIFIED","HARM_CATEGORY_DANGEROUS_CONTENT":"HARM_BLOCK_THRESHOLD_UNSPECIFIED"},"populatedPostinstallContent":"## Testing the extension\n\nYou can test out the extension right away by following these steps:\n\n1. Go to the [Cloud Firestore dashboard](https://console.firebase.google.com/project/_/firestore) in the Firebase console.\n2. If it doesn't already exist, create the collection you specified during installation: **generate**.\n3. Add a document with a **prompt** field containing your first message:\n\n```\nprompt: \"How are you today?\"\n```\n\n4. In a few seconds, you'll see a **createTime** field and then a status field should appear in the document. The status field will update as the extension processes the message.\n5. When processing is finished, the **response** field of the document should be populated with the response from the selected generative AI model.\n\n```javascript\nconst ref = await admin\n    .firestore()\n    .collection(\"generate\")\n    .add({\n        prompt: \"How are you today?\",\n    })\n\nref.onSnapshot(snap => {\n    if (snap.get('response')) console.log(\n        'RESPONSE:' +\n        snap.get('response')\n    )\n})\n```\n\n## About the providers\n\nThe extension gives you a choice of what provider to use for the available models:\n\n- Google AI: For more details on this Gemini API, see the [Gemini homepage](https://ai.google.dev/docs).\n\n- Vertex AI: For more details on the Vertex AI Gemini API, see the [Vertex AI documentation](https://cloud.google.com/vertex-ai/docs/generative-ai/model-reference/gemini).\n\n## About the models\n\nFor Google AI the list of supported models is [here](https://ai.google.dev/models/gemini), and this parameter should be set to the model name, the second segment of the model code (for\nexample `models/gemini-1.0-pro` should be chosen as `gemini-1.0-pro`).\n\nFor Vertex AI, the list of models is [here](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/models).\n\n## Handling errors\n\nIf the extension encounters an error, it will write an error message to the document in the `status` field. You can use this field to monitor for errors in your documents. Currently some errors will instruct you to visit the Cloud Function logs for the extension, to avoid exposing sensitive information.\n\n## Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","extensionRef":"googlecloud/firestore-genai-chatbot","extensionVersion":"0.0.14","systemParams":{"firebaseextensions.v1beta.function/vpcConnectorEgressSettings":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","firebaseextensions.v1beta.function/minInstances":"0","firebaseextensions.v1beta.function/memory":"256"}},"lastOperationName":"projects/creme-collections-8a8bx/operations/16148870-4a2a-4031-8979-070dad9ad54f","serviceAccountEmail":"ext-firestore-genai-chatbot@creme-collections-8a8bx.iam.gserviceaccount.com","lastOperationType":"CREATE","etag":"0e45091e58fe52a91fa1ef9fc285641dd34a15ac4f394125202b35f0b9700b3d"}]}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /home/user/studio/functions (142.89 KB) for uploading 
[debug] [2025-07-03T13:37:05.375Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:05.375Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:05.375Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/creme-collections-8a8bx/locations/-/functions [none]
[debug] [2025-07-03T13:37:05.948Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/creme-collections-8a8bx/locations/-/functions 200
[debug] [2025-07-03T13:37:05.951Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/creme-collections-8a8bx/locations/-/functions {"functions":[{"name":"projects/creme-collections-8a8bx/locations/us-central1/functions/ext-firestore-genai-chatbot-generateMessage","description":"Listens to Firestore data writes to generate conversations.","sourceArchiveUrl":"gs://firebase-mod-sources-prod/c9d0380d3b229cf26fbae1a7607f1b49cee06a86d5d710ef2b28a8771868be8d","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/creme-collections-8a8bx/databases/(default)/documents/generate/{messageId}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"generateMessage","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ext-firestore-genai-chatbot@creme-collections-8a8bx.iam.gserviceaccount.com","updateTime":"2025-06-30T06:07:10.304Z","versionId":"2","labels":{"goog-firebase-ext":"firestore-genai-chatbot","deployment-tool":"firebase-extensions","goog-firebase-ext-iid":"firestore-genai-chatbot","firebase-extensions-ar":"enabled","goog-dm":"firebase-ext-firestore-genai-chatbot"},"environmentVariables":{"CANDIDATE_COUNT":"1","CANDIDATES_FIELD":"candidates","COLLECTION_NAME":"generate","DATABASE_INSTANCE":"","DATABASE_URL":"","ENABLE_DISCUSSION_OPTION_OVERRIDES":"no","ENABLE_GENKIT_MONITORING":"no","EXT_INSTANCE_ID":"firestore-genai-chatbot","FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"databaseURL\":\"\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","GENERATIVE_AI_PROVIDER":"google-ai","HARM_CATEGORY_DANGEROUS_CONTENT":"HARM_BLOCK_THRESHOLD_UNSPECIFIED","HARM_CATEGORY_HARASSMENT":"HARM_BLOCK_THRESHOLD_UNSPECIFIED","HARM_CATEGORY_HATE_SPEECH":"HARM_BLOCK_THRESHOLD_UNSPECIFIED","HARM_CATEGORY_SEXUALLY_EXPLICIT":"HARM_BLOCK_THRESHOLD_UNSPECIFIED","LOCATION":"us-central1","MODEL":"gemini-2.5-flash","ORDER_FIELD":"createTime","PROJECT_ID":"creme-collections-8a8bx","PROMPT_FIELD":"prompt","RESPONSE_FIELD":"response","STORAGE_BUCKET":"creme-collections-8a8bx.firebasestorage.app"},"runtime":"nodejs20","maxInstances":3000,"ingressSettings":"ALLOW_INTERNAL_ONLY","buildId":"47a7443e-185c-4df4-adee-b27082c16c91","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/789348427533/locations/us-central1/builds/47a7443e-185c-4df4-adee-b27082c16c91","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","satisfiesPzi":true}]}
[debug] [2025-07-03T13:37:05.956Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:05.956Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:05.956Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-07-03T13:37:06.946Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/-/functions 200
[debug] [2025-07-03T13:37:06.949Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/-/functions {"functions":[{"name":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","buildConfig":{"build":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca","runtime":"nodejs20","entryPoint":"sendBrandedEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549681469005"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549681469005"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2025-07-03T13:35:55.120377900Z","labels":{"deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769","deployment-tool":"cli-firebase--project-idx"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-creme-collections-8a8bx.cloudfunctions.net/sendBrandedEmail","createTime":"2025-07-03T13:34:41.709943946Z","satisfiesPzi":true},{"name":"projects/creme-collections-8a8bx/locations/us-central1/functions/addMessage","buildConfig":{"build":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca","runtime":"nodejs20","entryPoint":"addMessage","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"addMessage/function-source.zip","generation":"1751549745978218"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"addMessage/function-source.zip","generation":"1751549745978218"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2025-07-03T13:35:55.199799677Z","labels":{"deployment-tool":"cli-firebase--project-idx","deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/addmessage for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-creme-collections-8a8bx.cloudfunctions.net/addMessage","createTime":"2025-07-03T13:35:46.190782983Z","satisfiesPzi":true},{"name":"projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld","buildConfig":{"build":"projects/789348427533/locations/us-central1/builds/bb17a5c2-c180-4be8-b2df-18525c5650ca","runtime":"nodejs20","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"helloWorld/function-source.zip","generation":"1751549745961309"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"helloWorld/function-source.zip","generation":"1751549745961309"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2025-07-03T13:36:00.020609829Z","labels":{"firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769","deployment-tool":"cli-firebase--project-idx"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-creme-collections-8a8bx.cloudfunctions.net/helloWorld","createTime":"2025-07-03T13:35:46.192397260Z","satisfiesPzi":true}]}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-07-03T13:37:06.973Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:06.973Z] Checked if tokens are valid: true, expires at: 1751551543306
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-07-03T13:37:06.974Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:06.974Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:06.974Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/789348427533/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-07-03T13:37:06.975Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/789348427533/services/pubsub.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/789348427533
[debug] [2025-07-03T13:37:06.975Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/789348427533/services/pubsub.googleapis.com:generateServiceIdentity {}
[debug] [2025-07-03T13:37:06.978Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/789348427533/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-07-03T13:37:06.978Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/789348427533/services/eventarc.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/789348427533
[debug] [2025-07-03T13:37:06.978Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/789348427533/services/eventarc.googleapis.com:generateServiceIdentity {}
[debug] [2025-07-03T13:37:07.845Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/789348427533/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-07-03T13:37:07.849Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/789348427533/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-789348427533@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"101197519448777129811"}}
[debug] [2025-07-03T13:37:07.870Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/789348427533/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-07-03T13:37:07.871Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/789348427533/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-789348427533@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"107164270145448495895"}}
[debug] [2025-07-03T13:37:07.888Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:07.893Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:07.893Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx [none]
[debug] [2025-07-03T13:37:08.064Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx 200
[debug] [2025-07-03T13:37:08.070Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/creme-collections-8a8bx {"projectNumber":"789348427533","projectId":"creme-collections-8a8bx","lifecycleState":"ACTIVE","name":"Creme Collections","labels":{"monospace-workspace-id":"studio-4117069302","firebase":"enabled","firebase-core":"disabled","generative-language":"enabled"},"createTime":"2025-06-24T08:04:00.623545Z"}
[debug] [2025-07-03T13:37:08.070Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:08.071Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:08.071Z] >>> [apiv2][query] GET https://compute.googleapis.com/compute/v1/projects/789348427533 [none]
[debug] [2025-07-03T13:37:08.392Z] <<< [apiv2][status] GET https://compute.googleapis.com/compute/v1/projects/789348427533 200
[debug] [2025-07-03T13:37:08.401Z] <<< [apiv2][body] GET https://compute.googleapis.com/compute/v1/projects/789348427533 {"kind":"compute#project","id":"879002026976927000","creationTimestamp":"2025-06-30T21:28:39.534-07:00","name":"creme-collections-8a8bx","commonInstanceMetadata":{"kind":"compute#metadata","fingerprint":"GrzsLBApN2Y="},"quotas":[{"metric":"SNAPSHOTS","limit":1000,"usage":0},{"metric":"NETWORKS","limit":5,"usage":1},{"metric":"FIREWALLS","limit":100,"usage":4},{"metric":"IMAGES","limit":100,"usage":0},{"metric":"STATIC_ADDRESSES","limit":8,"usage":0},{"metric":"ROUTES","limit":200,"usage":0},{"metric":"FORWARDING_RULES","limit":15,"usage":0},{"metric":"TARGET_POOLS","limit":50,"usage":0},{"metric":"HEALTH_CHECKS","limit":75,"usage":0},{"metric":"IN_USE_ADDRESSES","limit":4,"usage":0},{"metric":"TARGET_INSTANCES","limit":50,"usage":0},{"metric":"TARGET_HTTP_PROXIES","limit":10,"usage":0},{"metric":"URL_MAPS","limit":10,"usage":0},{"metric":"BACKEND_SERVICES","limit":50,"usage":0},{"metric":"INSTANCE_TEMPLATES","limit":100,"usage":0},{"metric":"TARGET_VPN_GATEWAYS","limit":5,"usage":0},{"metric":"VPN_TUNNELS","limit":10,"usage":0},{"metric":"BACKEND_BUCKETS","limit":3,"usage":0},{"metric":"ROUTERS","limit":10,"usage":0},{"metric":"TARGET_SSL_PROXIES","limit":10,"usage":0},{"metric":"TARGET_HTTPS_PROXIES","limit":10,"usage":0},{"metric":"SSL_CERTIFICATES","limit":10,"usage":0},{"metric":"SUBNETWORKS","limit":100,"usage":0},{"metric":"TARGET_TCP_PROXIES","limit":10,"usage":0},{"metric":"CPUS_ALL_REGIONS","limit":12,"usage":0},{"metric":"SECURITY_POLICIES","limit":0,"usage":0},{"metric":"SECURITY_POLICY_RULES","limit":0,"usage":0},{"metric":"XPN_SERVICE_PROJECTS","limit":1000,"usage":0},{"metric":"PACKET_MIRRORINGS","limit":20,"usage":0},{"metric":"NETWORK_ENDPOINT_GROUPS","limit":100,"usage":0},{"metric":"INTERCONNECTS","limit":6,"usage":0},{"metric":"SSL_POLICIES","limit":10,"usage":0},{"metric":"GLOBAL_INTERNAL_ADDRESSES","limit":5000,"usage":0},{"metric":"VPN_GATEWAYS","limit":5,"usage":0},{"metric":"MACHINE_IMAGES","limit":100,"usage":0},{"metric":"SECURITY_POLICY_CEVAL_RULES","limit":0,"usage":0},{"metric":"GPUS_ALL_REGIONS","limit":0,"usage":0},{"metric":"EXTERNAL_VPN_GATEWAYS","limit":5,"usage":0},{"metric":"PUBLIC_ADVERTISED_PREFIXES","limit":1,"usage":0},{"metric":"PUBLIC_DELEGATED_PREFIXES","limit":10,"usage":0},{"metric":"STATIC_BYOIP_ADDRESSES","limit":128,"usage":0},{"metric":"NETWORK_FIREWALL_POLICIES","limit":10,"usage":0},{"metric":"INTERNAL_TRAFFIC_DIRECTOR_FORWARDING_RULES","limit":15,"usage":0},{"metric":"GLOBAL_EXTERNAL_MANAGED_FORWARDING_RULES","limit":15,"usage":0},{"metric":"GLOBAL_INTERNAL_MANAGED_BACKEND_SERVICES","limit":50,"usage":0},{"metric":"GLOBAL_EXTERNAL_MANAGED_BACKEND_SERVICES","limit":50,"usage":0},{"metric":"GLOBAL_EXTERNAL_PROXY_LB_BACKEND_SERVICES","limit":50,"usage":0},{"metric":"GLOBAL_INTERNAL_TRAFFIC_DIRECTOR_BACKEND_SERVICES","limit":100,"usage":0}],"selfLink":"https://www.googleapis.com/compute/v1/projects/creme-collections-8a8bx","defaultServiceAccount":"789348427533-compute@developer.gserviceaccount.com","xpnProjectStatus":"UNSPECIFIED_XPN_PROJECT_STATUS","defaultNetworkTier":"PREMIUM","vmDnsSetting":"ZONAL_ONLY","cloudArmorTier":"CA_STANDARD"}
[debug] [2025-07-03T13:37:08.406Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:08.407Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:08.407Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/creme-collections-8a8bx/billingInfo [none]
[debug] [2025-07-03T13:37:08.610Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/creme-collections-8a8bx/billingInfo 200
[debug] [2025-07-03T13:37:08.614Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/creme-collections-8a8bx/billingInfo {"name":"projects/creme-collections-8a8bx/billingInfo","projectId":"creme-collections-8a8bx","billingAccountName":"billingAccounts/01D495-120055-606910","billingEnabled":true}
[debug] [2025-07-03T13:37:08.632Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:08.632Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:08.633Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-07-03T13:37:09.401Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-07-03T13:37:09.408Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-789348427533.us-central1.cloudfunctions.appspot.com/bbad6347-02ed-4143-aae8-4f9fd89c01d3.zip?GoogleAccessId=service-789348427533@gcf-admin-robot.iam.gserviceaccount.com&Expires=1751551629&Signature=DuG8YYZG3fiLHyQtFyypAICrguSPJpYLgjjipsPT7qeixMReyO2JIHCFIldLWZgeFaFL17pdyi0Tj6yiltylFGF3n6PxmFPF9wv8xEiqST5AkWVeyLGBkqbGvJMqoD31dMhMCc1baTh6kFGyZjNfa8TYu1rzwBMsz7vH4As0wUHKLba5SEnZJHKJfPyofZBL7BCY0%2F78hRZMuQKy0gr8H3sMVbi2KKAODraALVqizVaFXQD6cUMn1NoRLDRF4rBU222XVK6Azwuw%2BJS73%2B%2BR7otM%2Bc7ZuiZjz%2FflzwMAvQM66ulP8fGqOVOMIbPsDmCTFEicaraj6yD0zOVSR4dntg%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-789348427533.us-central1.cloudfunctions.appspot.com","object":"bbad6347-02ed-4143-aae8-4f9fd89c01d3.zip"}}
[debug] [2025-07-03T13:37:09.418Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-789348427533.us-central1.cloudfunctions.appspot.com/bbad6347-02ed-4143-aae8-4f9fd89c01d3.zip GoogleAccessId=service-789348427533%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1751551629&Signature=DuG8YYZG3fiLHyQtFyypAICrguSPJpYLgjjipsPT7qeixMReyO2JIHCFIldLWZgeFaFL17pdyi0Tj6yiltylFGF3n6PxmFPF9wv8xEiqST5AkWVeyLGBkqbGvJMqoD31dMhMCc1baTh6kFGyZjNfa8TYu1rzwBMsz7vH4As0wUHKLba5SEnZJHKJfPyofZBL7BCY0%2F78hRZMuQKy0gr8H3sMVbi2KKAODraALVqizVaFXQD6cUMn1NoRLDRF4rBU222XVK6Azwuw%2BJS73%2B%2BR7otM%2Bc7ZuiZjz%2FflzwMAvQM66ulP8fGqOVOMIbPsDmCTFEicaraj6yD0zOVSR4dntg%3D%3D
[debug] [2025-07-03T13:37:09.418Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-789348427533.us-central1.cloudfunctions.appspot.com/bbad6347-02ed-4143-aae8-4f9fd89c01d3.zip [stream]
[debug] [2025-07-03T13:37:10.583Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-789348427533.us-central1.cloudfunctions.appspot.com/bbad6347-02ed-4143-aae8-4f9fd89c01d3.zip 200
[debug] [2025-07-03T13:37:10.584Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-789348427533.us-central1.cloudfunctions.appspot.com/bbad6347-02ed-4143-aae8-4f9fd89c01d3.zip [omitted]
[info] âœ”  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 20 (2nd Gen) function sendBrandedEmail(us-central1)... 
[info] i  functions: updating Node.js 20 (2nd Gen) function helloWorld(us-central1)... 
[info] i  functions: updating Node.js 20 (2nd Gen) function addMessage(us-central1)... 
[debug] [2025-07-03T13:37:10.607Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:10.608Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:10.608Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels
[debug] [2025-07-03T13:37:10.608Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail {"name":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBrandedEmail","source":{"storageSource":{"bucket":"gcf-v2-uploads-789348427533.us-central1.cloudfunctions.appspot.com","object":"bbad6347-02ed-4143-aae8-4f9fd89c01d3.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/sendBrandedEmail","FUNCTION_TARGET":"sendBrandedEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase--project-idx","deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"}}
[debug] [2025-07-03T13:37:12.067Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail 200
[debug] [2025-07-03T13:37:12.074Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:37:11.990095136Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-07-03T13:37:12.075Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:12.082Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:12.082Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f [none]
[debug] [2025-07-03T13:37:12.255Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f 200
[debug] [2025-07-03T13:37:12.259Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:37:11.990095136Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBrandedEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549831938134"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549681469005"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/sendBrandedEmail","FUNCTION_TARGET":"sendBrandedEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-creme-collections-8a8bx.cloudfunctions.net/sendBrandedEmail","satisfiesPzi":true},"stages":[{"name":"BUILD","state":"NOT_STARTED"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2025-07-03T13:37:12.765Z] [update-default-us-central1-sendBrandedEmail] Retrying task index 0
[debug] [2025-07-03T13:37:12.765Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:12.765Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:12.766Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f [none]
[debug] [2025-07-03T13:37:13.443Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f 200
[debug] [2025-07-03T13:37:13.452Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:37:11.990095136Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBrandedEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549831938134"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549681469005"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/sendBrandedEmail","FUNCTION_TARGET":"sendBrandedEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-creme-collections-8a8bx.cloudfunctions.net/sendBrandedEmail","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/83b74b9c-9dbd-4703-919a-248594cfd393?project=789348427533"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393"},"done":false}
[debug] [2025-07-03T13:37:14.453Z] [update-default-us-central1-sendBrandedEmail] Retrying task index 0
[debug] [2025-07-03T13:37:14.454Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:14.454Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:14.454Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f [none]
[debug] [2025-07-03T13:37:15.138Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f 200
[debug] [2025-07-03T13:37:15.144Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:37:11.990095136Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBrandedEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549831938134"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549681469005"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/sendBrandedEmail","FUNCTION_TARGET":"sendBrandedEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-creme-collections-8a8bx.cloudfunctions.net/sendBrandedEmail","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/83b74b9c-9dbd-4703-919a-248594cfd393?project=789348427533"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393"},"done":false}
[debug] [2025-07-03T13:37:17.150Z] [update-default-us-central1-sendBrandedEmail] Retrying task index 0
[debug] [2025-07-03T13:37:17.150Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:17.150Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:17.151Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f [none]
[debug] [2025-07-03T13:37:17.871Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f 200
[debug] [2025-07-03T13:37:17.875Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:37:11.990095136Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBrandedEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549831938134"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549681469005"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/sendBrandedEmail","FUNCTION_TARGET":"sendBrandedEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-creme-collections-8a8bx.cloudfunctions.net/sendBrandedEmail","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/83b74b9c-9dbd-4703-919a-248594cfd393?project=789348427533"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393"},"done":false}
[debug] [2025-07-03T13:37:21.878Z] [update-default-us-central1-sendBrandedEmail] Retrying task index 0
[debug] [2025-07-03T13:37:21.879Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:21.879Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:21.879Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f [none]
[debug] [2025-07-03T13:37:22.612Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f 200
[debug] [2025-07-03T13:37:22.614Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:37:11.990095136Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBrandedEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549831938134"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549681469005"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/sendBrandedEmail","FUNCTION_TARGET":"sendBrandedEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-creme-collections-8a8bx.cloudfunctions.net/sendBrandedEmail","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/83b74b9c-9dbd-4703-919a-248594cfd393?project=789348427533"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393"},"done":false}
[debug] [2025-07-03T13:37:30.618Z] [update-default-us-central1-sendBrandedEmail] Retrying task index 0
[debug] [2025-07-03T13:37:30.618Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:30.618Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:30.622Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f [none]
[debug] [2025-07-03T13:37:31.348Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f 200
[debug] [2025-07-03T13:37:31.349Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:37:11.990095136Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBrandedEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549831938134"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549681469005"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/sendBrandedEmail","FUNCTION_TARGET":"sendBrandedEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-creme-collections-8a8bx.cloudfunctions.net/sendBrandedEmail","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/83b74b9c-9dbd-4703-919a-248594cfd393?project=789348427533"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393"},"done":false}
[debug] [2025-07-03T13:37:41.351Z] [update-default-us-central1-sendBrandedEmail] Retrying task index 0
[debug] [2025-07-03T13:37:41.354Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:41.354Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:41.354Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f [none]
[debug] [2025-07-03T13:37:42.052Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f 200
[debug] [2025-07-03T13:37:42.052Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:37:11.990095136Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBrandedEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549831938134"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549681469005"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/sendBrandedEmail","FUNCTION_TARGET":"sendBrandedEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-creme-collections-8a8bx.cloudfunctions.net/sendBrandedEmail","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/83b74b9c-9dbd-4703-919a-248594cfd393?project=789348427533"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393"},"done":false}
[debug] [2025-07-03T13:37:52.057Z] [update-default-us-central1-sendBrandedEmail] Retrying task index 0
[debug] [2025-07-03T13:37:52.058Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:52.058Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:37:52.059Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f [none]
[debug] [2025-07-03T13:37:52.765Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f 200
[debug] [2025-07-03T13:37:52.769Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:37:11.990095136Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBrandedEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549831938134"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549681469005"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/sendBrandedEmail","FUNCTION_TARGET":"sendBrandedEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-creme-collections-8a8bx.cloudfunctions.net/sendBrandedEmail","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/83b74b9c-9dbd-4703-919a-248594cfd393?project=789348427533"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393"},"done":false}
[debug] [2025-07-03T13:38:02.773Z] [update-default-us-central1-sendBrandedEmail] Retrying task index 0
[debug] [2025-07-03T13:38:02.774Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:02.774Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:02.775Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f [none]
[debug] [2025-07-03T13:38:03.510Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f 200
[debug] [2025-07-03T13:38:03.511Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:37:11.990095136Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBrandedEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549831938134"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549681469005"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/sendBrandedEmail","FUNCTION_TARGET":"sendBrandedEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-creme-collections-8a8bx.cloudfunctions.net/sendBrandedEmail","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/83b74b9c-9dbd-4703-919a-248594cfd393?project=789348427533"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/sendbrandedemail?project=creme-collections-8a8bx","stateMessages":[{"severity":"WARNING","type":"CloudRunServiceRecreated","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail for the function was not found. The service was redeployed with default values."}]}],"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393"},"done":false}
[debug] [2025-07-03T13:38:03.511Z] Got source token Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-07-03T13:38:03.512Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:03.512Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:03.512Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:03.512Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:03.518Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels
[debug] [2025-07-03T13:38:03.518Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld {"name":"projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs20","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-uploads-789348427533.us-central1.cloudfunctions.appspot.com","object":"bbad6347-02ed-4143-aae8-4f9fd89c01d3.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB"},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"}}
[debug] [2025-07-03T13:38:03.520Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions/addMessage updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels
[debug] [2025-07-03T13:38:03.520Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions/addMessage {"name":"projects/creme-collections-8a8bx/locations/us-central1/functions/addMessage","buildConfig":{"runtime":"nodejs20","entryPoint":"addMessage","source":{"storageSource":{"bucket":"gcf-v2-uploads-789348427533.us-central1.cloudfunctions.appspot.com","object":"bbad6347-02ed-4143-aae8-4f9fd89c01d3.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB"},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/addMessage","FUNCTION_TARGET":"addMessage","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase--project-idx","deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"}}
[debug] [2025-07-03T13:38:04.408Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions/addMessage 200
[debug] [2025-07-03T13:38:04.411Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions/addMessage {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549883658-639067c9f32a1-651c24ee-1999f473","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:38:04.325900858Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/addMessage","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-07-03T13:38:04.412Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:04.412Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:04.412Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549883658-639067c9f32a1-651c24ee-1999f473 [none]
[debug] [2025-07-03T13:38:05.018Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld 200
[debug] [2025-07-03T13:38:05.018Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549884199-639067ca773b6-bceec9a6-abad9e8f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:38:04.924694488Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-07-03T13:38:05.019Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:05.019Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:05.019Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549884199-639067ca773b6-bceec9a6-abad9e8f [none]
[debug] [2025-07-03T13:38:05.139Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549883658-639067c9f32a1-651c24ee-1999f473 200
[debug] [2025-07-03T13:38:05.139Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549883658-639067c9f32a1-651c24ee-1999f473 {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549883658-639067c9f32a1-651c24ee-1999f473","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:38:04.325900858Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/addMessage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/addMessage","buildConfig":{"runtime":"nodejs20","entryPoint":"addMessage","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"addMessage/function-source.zip","generation":"1751549884268845"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"addMessage/function-source.zip","generation":"1751549745978218"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/addmessage","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/addMessage","FUNCTION_TARGET":"addMessage","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/addmessage for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-creme-collections-8a8bx.cloudfunctions.net/addMessage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/creme-collections-8a8bx/locations/us-central1/services/addmessage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/addmessage?project=creme-collections-8a8bx","stateMessages":[{"severity":"WARNING","type":"CloudRunServiceRecreated","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/addmessage for the function was not found. The service was redeployed with default values."}]}],"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393"},"done":false}
[debug] [2025-07-03T13:38:05.140Z] Got source token Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-07-03T13:38:05.640Z] [update-default-us-central1-addMessage] Retrying task index 0
[debug] [2025-07-03T13:38:05.641Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:05.642Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:05.642Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549883658-639067c9f32a1-651c24ee-1999f473 [none]
[debug] [2025-07-03T13:38:05.718Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549884199-639067ca773b6-bceec9a6-abad9e8f 200
[debug] [2025-07-03T13:38:05.721Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549884199-639067ca773b6-bceec9a6-abad9e8f {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549884199-639067ca773b6-bceec9a6-abad9e8f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:38:04.924694488Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs20","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"helloWorld/function-source.zip","generation":"1751549884871082"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"helloWorld/function-source.zip","generation":"1751549745961309"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-creme-collections-8a8bx.cloudfunctions.net/helloWorld","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/creme-collections-8a8bx/locations/us-central1/services/helloworld","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/helloworld?project=creme-collections-8a8bx","stateMessages":[{"severity":"WARNING","type":"CloudRunServiceRecreated","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/helloworld for the function was not found. The service was redeployed with default values."}]}],"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393"},"done":false}
[debug] [2025-07-03T13:38:05.722Z] Got source token Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-07-03T13:38:06.228Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2025-07-03T13:38:06.234Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:06.234Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:06.234Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549884199-639067ca773b6-bceec9a6-abad9e8f [none]
[debug] [2025-07-03T13:38:06.319Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549883658-639067c9f32a1-651c24ee-1999f473 200
[debug] [2025-07-03T13:38:06.319Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549883658-639067c9f32a1-651c24ee-1999f473 {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549883658-639067c9f32a1-651c24ee-1999f473","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:38:04.325900858Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/addMessage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/addMessage","buildConfig":{"runtime":"nodejs20","entryPoint":"addMessage","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"addMessage/function-source.zip","generation":"1751549884268845"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"addMessage/function-source.zip","generation":"1751549745978218"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/addmessage","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/addMessage","FUNCTION_TARGET":"addMessage","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/addmessage for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-creme-collections-8a8bx.cloudfunctions.net/addMessage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/creme-collections-8a8bx/locations/us-central1/services/addmessage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/addmessage?project=creme-collections-8a8bx","stateMessages":[{"severity":"WARNING","type":"CloudRunServiceRecreated","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/addmessage for the function was not found. The service was redeployed with default values."}]}],"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393"},"done":false}
[debug] [2025-07-03T13:38:06.320Z] Got source token Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-07-03T13:38:06.946Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549884199-639067ca773b6-bceec9a6-abad9e8f 200
[debug] [2025-07-03T13:38:06.947Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549884199-639067ca773b6-bceec9a6-abad9e8f {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549884199-639067ca773b6-bceec9a6-abad9e8f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:38:04.924694488Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs20","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"helloWorld/function-source.zip","generation":"1751549884871082"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"helloWorld/function-source.zip","generation":"1751549745961309"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-creme-collections-8a8bx.cloudfunctions.net/helloWorld","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/creme-collections-8a8bx/locations/us-central1/services/helloworld","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/helloworld?project=creme-collections-8a8bx","stateMessages":[{"severity":"WARNING","type":"CloudRunServiceRecreated","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/helloworld for the function was not found. The service was redeployed with default values."}]}],"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393"},"done":false}
[debug] [2025-07-03T13:38:06.947Z] Got source token Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-07-03T13:38:07.320Z] [update-default-us-central1-addMessage] Retrying task index 0
[debug] [2025-07-03T13:38:07.321Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:07.321Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:07.321Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549883658-639067c9f32a1-651c24ee-1999f473 [none]
[debug] [2025-07-03T13:38:07.947Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2025-07-03T13:38:07.947Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:07.948Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:07.948Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549884199-639067ca773b6-bceec9a6-abad9e8f [none]
[debug] [2025-07-03T13:38:08.005Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549883658-639067c9f32a1-651c24ee-1999f473 200
[debug] [2025-07-03T13:38:08.006Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549883658-639067c9f32a1-651c24ee-1999f473 {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549883658-639067c9f32a1-651c24ee-1999f473","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:38:04.325900858Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/addMessage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/addMessage","buildConfig":{"runtime":"nodejs20","entryPoint":"addMessage","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"addMessage/function-source.zip","generation":"1751549884268845"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"addMessage/function-source.zip","generation":"1751549745978218"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/addmessage","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/addMessage","FUNCTION_TARGET":"addMessage","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/addmessage for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-creme-collections-8a8bx.cloudfunctions.net/addMessage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/creme-collections-8a8bx/locations/us-central1/services/addmessage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/addmessage?project=creme-collections-8a8bx","stateMessages":[{"severity":"WARNING","type":"CloudRunServiceRecreated","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/addmessage for the function was not found. The service was redeployed with default values."}]}],"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393"},"done":false}
[debug] [2025-07-03T13:38:08.006Z] Got source token Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-07-03T13:38:08.639Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549884199-639067ca773b6-bceec9a6-abad9e8f 200
[debug] [2025-07-03T13:38:08.639Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549884199-639067ca773b6-bceec9a6-abad9e8f {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549884199-639067ca773b6-bceec9a6-abad9e8f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:38:04.924694488Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs20","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"helloWorld/function-source.zip","generation":"1751549884871082"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"helloWorld/function-source.zip","generation":"1751549745961309"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-creme-collections-8a8bx.cloudfunctions.net/helloWorld","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/creme-collections-8a8bx/locations/us-central1/services/helloworld","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/helloworld?project=creme-collections-8a8bx","stateMessages":[{"severity":"WARNING","type":"CloudRunServiceRecreated","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/helloworld for the function was not found. The service was redeployed with default values."}]}],"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393"},"done":false}
[debug] [2025-07-03T13:38:08.639Z] Got source token Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-07-03T13:38:10.008Z] [update-default-us-central1-addMessage] Retrying task index 0
[debug] [2025-07-03T13:38:10.009Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:10.012Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:10.012Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549883658-639067c9f32a1-651c24ee-1999f473 [none]
[debug] [2025-07-03T13:38:10.641Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2025-07-03T13:38:10.642Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:10.642Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:10.642Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549884199-639067ca773b6-bceec9a6-abad9e8f [none]
[debug] [2025-07-03T13:38:10.734Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549883658-639067c9f32a1-651c24ee-1999f473 200
[debug] [2025-07-03T13:38:10.736Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549883658-639067c9f32a1-651c24ee-1999f473 {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549883658-639067c9f32a1-651c24ee-1999f473","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:38:04.325900858Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/addMessage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/addMessage","buildConfig":{"runtime":"nodejs20","entryPoint":"addMessage","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"addMessage/function-source.zip","generation":"1751549884268845"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"addMessage/function-source.zip","generation":"1751549745978218"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/addmessage","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/addMessage","FUNCTION_TARGET":"addMessage","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/addmessage for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-creme-collections-8a8bx.cloudfunctions.net/addMessage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/creme-collections-8a8bx/locations/us-central1/services/addmessage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/addmessage?project=creme-collections-8a8bx","stateMessages":[{"severity":"WARNING","type":"CloudRunServiceRecreated","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/addmessage for the function was not found. The service was redeployed with default values."}]}],"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393"},"done":false}
[debug] [2025-07-03T13:38:10.737Z] Got source token Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-07-03T13:38:11.456Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549884199-639067ca773b6-bceec9a6-abad9e8f 200
[debug] [2025-07-03T13:38:11.458Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549884199-639067ca773b6-bceec9a6-abad9e8f {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549884199-639067ca773b6-bceec9a6-abad9e8f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:38:04.924694488Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs20","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"helloWorld/function-source.zip","generation":"1751549884871082"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"helloWorld/function-source.zip","generation":"1751549745961309"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-creme-collections-8a8bx.cloudfunctions.net/helloWorld","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/creme-collections-8a8bx/locations/us-central1/services/helloworld","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/helloworld?project=creme-collections-8a8bx","stateMessages":[{"severity":"WARNING","type":"CloudRunServiceRecreated","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/helloworld for the function was not found. The service was redeployed with default values."}]}],"sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/789348427533/locations/us-central1/builds/83b74b9c-9dbd-4703-919a-248594cfd393"},"done":false}
[debug] [2025-07-03T13:38:11.461Z] Got source token Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-07-03T13:38:13.511Z] [update-default-us-central1-sendBrandedEmail] Retrying task index 0
[debug] [2025-07-03T13:38:13.517Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:13.518Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:13.523Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f [none]
[debug] [2025-07-03T13:38:14.216Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f 200
[debug] [2025-07-03T13:38:14.219Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549831241-63906797f5f53-b71ae301-f967508f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:37:11.990095136Z","endTime":"2025-07-03T13:38:08.795528668Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/sendBrandedEmail","buildConfig":{"runtime":"nodejs20","entryPoint":"sendBrandedEmail","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549831938134"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"sendBrandedEmail/function-source.zip","generation":"1751549681469005"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/sendBrandedEmail","FUNCTION_TARGET":"sendBrandedEmail","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/sendbrandedemail for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-creme-collections-8a8bx.cloudfunctions.net/sendBrandedEmail","satisfiesPzi":true},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service sendbrandedemail, Container Healthcheck failed. Revision 'sendbrandedemail-00001-feq' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=creme-collections-8a8bx&resource=cloud_run_revision/service_name/sendbrandedemail/revision_name/sendbrandedemail-00001-feq&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendbrandedemail%22%0Aresource.labels.revision_name%3D%22sendbrandedemail-00001-feq%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2025-07-03T13:38:14.219Z] Got source token undefined for region us-central1
[error] Could not create or update Cloud Run service sendbrandedemail, Container Healthcheck failed. Revision 'sendbrandedemail-00001-feq' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=creme-collections-8a8bx&resource=cloud_run_revision/service_name/sendbrandedemail/revision_name/sendbrandedemail-00001-feq&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendbrandedemail%22%0Aresource.labels.revision_name%3D%22sendbrandedemail-00001-feq%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2025-07-03T13:38:14.737Z] [update-default-us-central1-addMessage] Retrying task index 0
[debug] [2025-07-03T13:38:14.738Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:14.739Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:14.739Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549883658-639067c9f32a1-651c24ee-1999f473 [none]
[debug] [2025-07-03T13:38:15.435Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549883658-639067c9f32a1-651c24ee-1999f473 200
[debug] [2025-07-03T13:38:15.436Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549883658-639067c9f32a1-651c24ee-1999f473 {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549883658-639067c9f32a1-651c24ee-1999f473","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:38:04.325900858Z","endTime":"2025-07-03T13:38:10.694164555Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/addMessage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/addMessage","buildConfig":{"runtime":"nodejs20","entryPoint":"addMessage","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"addMessage/function-source.zip","generation":"1751549884268845"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"addMessage/function-source.zip","generation":"1751549745978218"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/addmessage","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/addMessage","FUNCTION_TARGET":"addMessage","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-callable":"true","firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/addmessage for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-creme-collections-8a8bx.cloudfunctions.net/addMessage","satisfiesPzi":true},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service addmessage, Container Healthcheck failed. Revision 'addmessage-00001-xit' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=creme-collections-8a8bx&resource=cloud_run_revision/service_name/addmessage/revision_name/addmessage-00001-xit&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22addmessage%22%0Aresource.labels.revision_name%3D%22addmessage-00001-xit%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2025-07-03T13:38:15.441Z] Got source token undefined for region us-central1
[error] Could not create or update Cloud Run service addmessage, Container Healthcheck failed. Revision 'addmessage-00001-xit' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=creme-collections-8a8bx&resource=cloud_run_revision/service_name/addmessage/revision_name/addmessage-00001-xit&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22addmessage%22%0Aresource.labels.revision_name%3D%22addmessage-00001-xit%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2025-07-03T13:38:15.463Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2025-07-03T13:38:15.463Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:15.463Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:15.464Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549884199-639067ca773b6-bceec9a6-abad9e8f [none]
[debug] [2025-07-03T13:38:16.148Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549884199-639067ca773b6-bceec9a6-abad9e8f 200
[debug] [2025-07-03T13:38:16.149Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549884199-639067ca773b6-bceec9a6-abad9e8f {"name":"projects/creme-collections-8a8bx/locations/us-central1/operations/operation-1751549884199-639067ca773b6-bceec9a6-abad9e8f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-07-03T13:38:04.924694488Z","endTime":"2025-07-03T13:38:11.614600018Z","target":"projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/creme-collections-8a8bx/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs20","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"helloWorld/function-source.zip","generation":"1751549884871082"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-789348427533-us-central1","object":"helloWorld/function-source.zip","generation":"1751549745961309"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Cldwcm9qZWN0cy83ODkzNDg0Mjc1MzMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy84M2I3NGI5Yy05ZGJkLTQ3MDMtOTE5YS0yNDg1OTRjZmQzOTMShgF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9jcmVtZS1jb2xsZWN0aW9ucy04YThieC9nY2YtYXJ0aWZhY3RzL2NyZW1lLS1jb2xsZWN0aW9ucy0tOGE4YnhfX3VzLS1jZW50cmFsMV9fc2VuZF9icmFuZGVkX2VtYWlsOnZlcnNpb25fMRiNztTG/BYiUXByb2plY3RzL2NyZW1lLWNvbGxlY3Rpb25zLThhOGJ4L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvc2VuZEJyYW5kZWRFbWFpbCoMCLSPmsMGEMiUqMwBMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/creme-collections-8a8bx/serviceAccounts/789348427533-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/creme-collections-8a8bx/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}","GCLOUD_PROJECT":"creme-collections-8a8bx","EVENTARC_CLOUD_EVENT_SOURCE":"projects/creme-collections-8a8bx/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"789348427533-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"d3e17d00c79fade66a7ffb10783ba52379c45769"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/creme-collections-8a8bx/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-creme-collections-8a8bx.cloudfunctions.net/helloWorld","satisfiesPzi":true},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service helloworld, Container Healthcheck failed. Revision 'helloworld-00001-pow' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=creme-collections-8a8bx&resource=cloud_run_revision/service_name/helloworld/revision_name/helloworld-00001-pow&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22helloworld%22%0Aresource.labels.revision_name%3D%22helloworld-00001-pow%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2025-07-03T13:38:16.151Z] Got source token undefined for region us-central1
[error] Could not create or update Cloud Run service helloworld, Container Healthcheck failed. Revision 'helloworld-00001-pow' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=creme-collections-8a8bx&resource=cloud_run_revision/service_name/helloworld/revision_name/helloworld-00001-pow&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22helloworld%22%0Aresource.labels.revision_name%3D%22helloworld-00001-pow%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2025-07-03T13:38:16.197Z] Total Function Deployment time: 65563
[debug] [2025-07-03T13:38:16.197Z] 3 Functions Deployed
[debug] [2025-07-03T13:38:16.197Z] 3 Functions Errored
[debug] [2025-07-03T13:38:16.197Z] 0 Function Deployments Aborted
[debug] [2025-07-03T13:38:16.197Z] Average Function Deployment time: 64672
[info] 
[info] Functions deploy had errors with the following functions:
	addMessage(us-central1)
	helloWorld(us-central1)
	sendBrandedEmail(us-central1)
[debug] [2025-07-03T13:38:16.287Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[debug] [2025-07-03T13:38:16.295Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:16.296Z] Checked if tokens are valid: true, expires at: 1751551543306
[debug] [2025-07-03T13:38:16.298Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-07-03T13:38:17.010Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-07-03T13:38:17.015Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts {"name":"projects/creme-collections-8a8bx/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-06-27T15:23:05.376721Z","updateTime":"2025-07-03T13:37:48.208740Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"2592000s"}}},"sizeBytes":"651268600","vulnerabilityScanningConfig":{"lastEnableTime":"2025-06-27T15:23:04.688718716Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/creme-collections-8a8bx/gcf-artifacts"}
[debug] [2025-07-03T13:38:17.020Z] Functions deploy failed.
[debug] [2025-07-03T13:38:17.020Z] {
  "endpoint": {
    "id": "sendBrandedEmail",
    "project": "creme-collections-8a8bx",
    "region": "us-central1",
    "entryPoint": "sendBrandedEmail",
    "platform": "gcfv2",
    "runtime": "nodejs20",
    "callableTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase--project-idx"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "creme-collections-8a8bx",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/creme-collections-8a8bx/locations/us-central1/services/sendBrandedEmail"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "d3e17d00c79fade66a7ffb10783ba52379c45769"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service sendbrandedemail, Container Healthcheck failed. Revision 'sendbrandedemail-00001-feq' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=creme-collections-8a8bx&resource=cloud_run_revision/service_name/sendbrandedemail/revision_name/sendbrandedemail-00001-feq&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendbrandedemail%22%0Aresource.labels.revision_name%3D%22sendbrandedemail-00001-feq%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service sendbrandedemail, Container Healthcheck failed. Revision 'sendbrandedemail-00001-feq' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=creme-collections-8a8bx&resource=cloud_run_revision/service_name/sendbrandedemail/revision_name/sendbrandedemail-00001-feq&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendbrandedemail%22%0Aresource.labels.revision_name%3D%22sendbrandedemail-00001-feq%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-07-03T13:38:17.020Z] {
  "endpoint": {
    "id": "addMessage",
    "project": "creme-collections-8a8bx",
    "region": "us-central1",
    "entryPoint": "addMessage",
    "platform": "gcfv2",
    "runtime": "nodejs20",
    "callableTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase--project-idx"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "creme-collections-8a8bx",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/creme-collections-8a8bx/locations/us-central1/services/addMessage"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "d3e17d00c79fade66a7ffb10783ba52379c45769"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service addmessage, Container Healthcheck failed. Revision 'addmessage-00001-xit' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=creme-collections-8a8bx&resource=cloud_run_revision/service_name/addmessage/revision_name/addmessage-00001-xit&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22addmessage%22%0Aresource.labels.revision_name%3D%22addmessage-00001-xit%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service addmessage, Container Healthcheck failed. Revision 'addmessage-00001-xit' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=creme-collections-8a8bx&resource=cloud_run_revision/service_name/addmessage/revision_name/addmessage-00001-xit&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22addmessage%22%0Aresource.labels.revision_name%3D%22addmessage-00001-xit%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-07-03T13:38:17.023Z] {
  "endpoint": {
    "id": "helloWorld",
    "project": "creme-collections-8a8bx",
    "region": "us-central1",
    "entryPoint": "helloWorld",
    "platform": "gcfv2",
    "runtime": "nodejs20",
    "httpsTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase--project-idx"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"creme-collections-8a8bx\",\"storageBucket\":\"creme-collections-8a8bx.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "creme-collections-8a8bx",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/creme-collections-8a8bx/locations/us-central1/services/helloWorld"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "d3e17d00c79fade66a7ffb10783ba52379c45769"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service helloworld, Container Healthcheck failed. Revision 'helloworld-00001-pow' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=creme-collections-8a8bx&resource=cloud_run_revision/service_name/helloworld/revision_name/helloworld-00001-pow&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22helloworld%22%0Aresource.labels.revision_name%3D%22helloworld-00001-pow%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service helloworld, Container Healthcheck failed. Revision 'helloworld-00001-pow' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=creme-collections-8a8bx&resource=cloud_run_revision/service_name/helloworld/revision_name/helloworld-00001-pow&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22helloworld%22%0Aresource.labels.revision_name%3D%22helloworld-00001-pow%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[error] Error: There was an error deploying functions:
[error] - Error Failed to update function sendBrandedEmail in region us-central1
[error] - Error Failed to update function addMessage in region us-central1
[error] - Error Failed to update function helloWorld in region us-central1
